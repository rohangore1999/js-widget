var bs=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Zd=bs((tl,me)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var xn=function(t,e){return xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},xn(t,e)};function Rt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xn(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return E=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E.apply(this,arguments)};function Pn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function b(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(l){o(l)}}function c(d){try{u(i.throw(d))}catch(l){o(l)}}function u(d){d.done?s(d.value):r(d.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function S(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $e(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function le(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var Q;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(Q||(Q={}));var Ye;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(Ye||(Ye={}));var nt;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(nt||(nt={}));var ae;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(ae||(ae={}));var ne;(function(t){t.BEFORE="before",t.ENRICHMENT="enrichment",t.DESTINATION="destination"})(ne||(ne={}));var Wt;(function(t){t.US="US",t.EU="EU"})(Wt||(Wt={}));var z;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(z||(z={}));var Kt;(function(t){t.XHR="xhr",t.SendBeacon="beacon",t.Fetch="fetch"})(Kt||(Kt={}));var Ii="-",dn="AMP",Ss="".concat(dn,"_unsent"),yr="https://api2.amplitude.com/2/httpapi",Ts="https://api.eu.amplitude.com/2/httpapi",ws="https://api2.amplitude.com/batch",Rs="https://api.eu.amplitude.com/batch",Is=1e3,Bn=function(t){if(Object.keys(t).length>Is)return!1;for(var e in t){var n=t[e];if(!Er(e,n))return!1}return!0},Er=function(t,e){var n,i;if(typeof t!="string")return!1;if(Array.isArray(e)){var r=!0;try{for(var s=$e(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if(typeof a=="object")r=r&&Bn(a);else if(!["number","string"].includes(typeof a))return!1;if(!r)return!1}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return Bn(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},Xt=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return E({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(Q.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(Q.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(Q.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(Q.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(Q.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(Q.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(Q.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(Q.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(Q.UNSET,e,Ii),this},t.prototype.clearAll=function(){return this._properties={},this._properties[Q.CLEAR_ALL]=Ii,this},t.prototype._safeSet=function(e,n,i){if(this._validate(e,n,i)){var r=this._properties[e];return r===void 0&&(r={},this._properties[e]=r),r[n]=i,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,i){return this._properties[Q.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===Q.ADD?typeof i=="number":e!==Q.UNSET&&e!==Q.REMOVE?Er(n,i):!0},t}(),Ns=function(t,e,n){var i=typeof t=="string"?{event_type:t}:t;return E(E(E({},i),n),e&&{event_properties:e})},br=function(t,e){var n=E(E({},e),{event_type:nt.IDENTIFY,user_properties:t.getUserProperties()});return n},ks=function(t,e,n,i){var r,s=E(E({},i),{event_type:nt.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(r={},r[t]=e,r)});return s},Ds=function(t,e,n){var i,r=new Xt;r.set(t,e);var s=E(E({},n),{event_type:nt.IDENTIFY,user_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return s},Os=function(t,e){return E(E({},e),{event_type:nt.REVENUE,event_properties:t.getEventProperties()})},ht=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=z.Unknown),{event:t,code:e,message:n}},Us=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,n){return b(this,void 0,void 0,function(){return S(this,function(i){switch(i.label){case 0:return[4,e.setup(n,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){return this.plugins.splice(this.plugins.findIndex(function(n){return n.name===e}),1),Promise.resolve()},t.prototype.reset=function(e){this.applying=!1,this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(i){n.queue.push([e,i]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return b(this,void 0,void 0,function(){var n,i,r,s,o,a,c,p,u,d,l,f,p,_,h,m,T,P,v,y;return S(this,function(R){switch(R.label){case 0:if(!e)return[2];n=q(e,1),i=n[0],r=q(e,2),s=r[1],o=this.plugins.filter(function(U){return U.type===ne.BEFORE}),R.label=1;case 1:R.trys.push([1,6,7,8]),a=$e(o),c=a.next(),R.label=2;case 2:return c.done?[3,5]:(p=c.value,[4,p.execute(E({},i))]);case 3:i=R.sent(),R.label=4;case 4:return c=a.next(),[3,2];case 5:return[3,8];case 6:return u=R.sent(),T={error:u},[3,8];case 7:try{c&&!c.done&&(P=a.return)&&P.call(a)}finally{if(T)throw T.error}return[7];case 8:d=this.plugins.filter(function(U){return U.type===ne.ENRICHMENT}),R.label=9;case 9:R.trys.push([9,14,15,16]),l=$e(d),f=l.next(),R.label=10;case 10:return f.done?[3,13]:(p=f.value,[4,p.execute(E({},i))]);case 11:i=R.sent(),R.label=12;case 12:return f=l.next(),[3,10];case 13:return[3,16];case 14:return _=R.sent(),v={error:_},[3,16];case 15:try{f&&!f.done&&(y=l.return)&&y.call(l)}finally{if(v)throw v.error}return[7];case 16:return h=this.plugins.filter(function(U){return U.type===ne.DESTINATION}),m=h.map(function(U){var J=E({},i);return U.execute(J).catch(function(C){return ht(J,0,String(C))})}),Promise.all(m).then(function(U){var J=q(U,1),C=J[0];s(C)}),[2]}})})},t.prototype.flush=function(){return b(this,void 0,void 0,function(){var e,n,i,r=this;return S(this,function(s){switch(s.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(o){return r.apply(o)}))];case 1:return s.sent(),n=this.plugins.filter(function(o){return o.type===ne.DESTINATION}),i=n.map(function(o){return o.flush&&o.flush()}),[4,Promise.all(i)];case 2:return s.sent(),[2]}})})},t}(),As="Event tracked successfully",xs="Unexpected error occurred",Ps="Event rejected due to exceeded retry count",Bs="Event skipped due to optOut config",Cs="Event rejected due to missing API key",Gs="Invalid API key",Ls="Client not initialized",oe=function(t){return{promise:t||Promise.resolve()}},Ms=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Us(this),this.name=e}return t.prototype._init=function(e){return b(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return n.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return b(this,void 0,void 0,function(){var n,i,r,s,o,a,c;return S(this,function(u){switch(u.label){case 0:n=this[e],this[e]=[],u.label=1;case 1:u.trys.push([1,6,7,8]),i=$e(n),r=i.next(),u.label=2;case 2:return r.done?[3,5]:(s=r.value,[4,s()]);case 3:u.sent(),u.label=4;case 4:return r=i.next(),[3,2];case 5:return[3,8];case 6:return o=u.sent(),a={error:o},[3,8];case 7:try{r&&!r.done&&(c=i.return)&&c.call(i)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,n,i){var r=Ns(e,n,i);return oe(this.dispatch(r))},t.prototype.identify=function(e,n){var i=br(e,n);return oe(this.dispatch(i))},t.prototype.groupIdentify=function(e,n,i,r){var s=ks(e,n,i,r);return oe(this.dispatch(s))},t.prototype.setGroup=function(e,n,i){var r=Ds(e,n,i);return oe(this.dispatch(r))},t.prototype.revenue=function(e,n){var i=Os(e,n);return oe(this.dispatch(i))},t.prototype.add=function(e){return this.config?oe(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),oe())},t.prototype.remove=function(e){return this.config?oe(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),oe())},t.prototype.dispatchWithCallback=function(e,n){if(!this.config)return n(ht(e,0,Ls));this.process(e).then(n)},t.prototype.dispatch=function(e){return b(this,void 0,void 0,function(){var n=this;return S(this,function(i){return this.config?[2,this.process(e)]:[2,new Promise(function(r){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,r))})]})})},t.prototype.process=function(e){return b(this,void 0,void 0,function(){var r,n,i,r;return S(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,ht(e,0,Bs)]:[4,this.timeline.push(e)];case 1:return r=s.sent(),r.code===200?this.config.loggerProvider.log(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return n=s.sent(),i=String(n),this.config.loggerProvider.error(i),r=ht(e,0,i),[2,r];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return oe(this.timeline.flush())},t}(),Ys=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return Bn(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?E({},this.properties):{};return e[Ye.REVENUE_PRODUCT_ID]=this.productId,e[Ye.REVENUE_QUANTITY]=this.quantity,e[Ye.REVENUE_PRICE]=this.price,e[Ye.REVENUE_TYPE]=this.revenueType,e[Ye.REVENUE]=this.revenue,e},t}(),Fs=function(t,e){var n=Math.max(e,1);return t.reduce(function(i,r,s){var o=Math.floor(s/n);return i[o]||(i[o]=[]),i[o].push(r),i},[])},Bt="Amplitude Logger ",$s=function(){function t(){this.logLevel=ae.None}return t.prototype.disable=function(){this.logLevel=ae.None},t.prototype.enable=function(e){e===void 0&&(e=ae.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<ae.Verbose||console.log("".concat(Bt,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<ae.Warn||console.warn("".concat(Bt,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<ae.Error||console.error("".concat(Bt,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<ae.Debug||console.log("".concat(Bt,"[Debug]: ").concat(e.join(" ")))},t}(),qt=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,logLevel:ae.Warn,loggerProvider:new $s,optOut:!1,serverUrl:yr,serverZone:Wt.US,useBatch:!1}},qs=function(){function t(e){var n,i,r;this._optOut=!1;var s=qt();this.apiKey=e.apiKey,this.flushIntervalMillis=e.flushIntervalMillis||s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(r=e.useBatch)!==null&&r!==void 0?r:s.useBatch,this.loggerProvider.enable(this.logLevel);var o=Sr(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=o.serverZone,this.serverUrl=o.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}(),js=function(t,e){return t===Wt.EU?e?Rs:Ts:e?ws:yr},Sr=function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=qt().serverZone),n===void 0&&(n=qt().useBatch),t)return{serverUrl:t,serverZone:void 0};var i=["US","EU"].includes(e)?e:qt().serverZone;return{serverZone:i,serverUrl:js(i,n)}},Hs=function(){function t(){this.name="amplitude",this.type=ne.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var n;return b(this,void 0,void 0,function(){var i,r=this;return S(this,function(s){switch(s.label){case 0:return this.config=e,this.storageKey="".concat(Ss,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return i=s.sent(),this.saveEvents(),i&&i.length>0&&Promise.all(i.map(function(o){return r.execute(o)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return new Promise(function(i){var r={event:e,attempts:0,callback:function(s){return i(s)},timeout:0};n.addToQueue(r)})},t.prototype.addToQueue=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=n.filter(function(s){return s.attempts<e.config.flushMaxRetries?(s.attempts+=1,!0):(e.fulfillRequest([s],500,Ps),!1)});r.forEach(function(s){if(e.queue=e.queue.concat(s),s.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){s.timeout=0,e.schedule(0)},s.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var n=this;this.scheduled||(this.scheduled=setTimeout(function(){n.flush(!0).then(function(){n.queue.length>0&&n.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),b(this,void 0,void 0,function(){var n,i,r,s=this;return S(this,function(o){switch(o.label){case 0:return n=[],i=[],this.queue.forEach(function(a){return a.timeout===0?n.push(a):i.push(a)}),this.queue=i,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),r=Fs(n,this.config.flushQueueSize),[4,Promise.all(r.map(function(a){return s.send(a,e)}))];case 1:return o.sent(),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),b(this,void 0,void 0,function(){var i,r,s,o,a;return S(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,Cs)];i={api_key:this.config.apiKey,events:e.map(function(u){var d=u.event;d.extra;var l=Pn(d,["extra"]);return l}),options:{min_id_length:this.config.minIdLength}},c.label=1;case 1:return c.trys.push([1,3,,4]),r=Sr(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,i)];case 2:if(s=c.sent(),s===null)return this.fulfillRequest(e,0,xs),[2];if(!n){if("body"in s){o="";try{o=JSON.stringify(s.body,null,2)}catch{}this.fulfillRequest(e,s.statusCode,"".concat(s.status,": ").concat(o))}else this.fulfillRequest(e,s.statusCode,s.status);return[2]}return this.handleReponse(s,e),[3,4];case 3:return a=c.sent(),this.fulfillRequest(e,0,String(a)),[3,4];case 4:return[2]}})})},t.prototype.handleReponse=function(e,n){var i=e.status;switch(i){case z.Success:this.handleSuccessResponse(e,n);break;case z.Invalid:this.handleInvalidResponse(e,n);break;case z.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,n);break;case z.RateLimit:this.handleRateLimitResponse(e,n);break;default:this.handleOtherReponse(n)}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,As)},t.prototype.handleInvalidResponse=function(e,n){var i=this;if(e.body.missingField||e.body.error.startsWith(Gs)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var r=le(le(le(le([],q(Object.values(e.body.eventsWithInvalidFields)),!1),q(Object.values(e.body.eventsWithMissingFields)),!1),q(Object.values(e.body.eventsWithInvalidIdLengths)),!1),q(e.body.silencedEvents),!1).flat(),s=new Set(r),o=n.filter(function(a,c){if(s.has(c)){i.fulfillRequest([a],e.statusCode,e.body.error);return}return!0});this.addToQueue.apply(this,le([],q(o),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.flushQueueSize/=2,this.addToQueue.apply(this,le([],q(n),!1))},t.prototype.handleRateLimitResponse=function(e,n){var i=this,r=Object.keys(e.body.exceededDailyQuotaUsers),s=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(r),c=new Set(s),u=new Set(o),d=n.filter(function(l,f){if(l.event.user_id&&a.has(l.event.user_id)||l.event.device_id&&c.has(l.event.device_id)){i.fulfillRequest([l],e.statusCode,e.body.error);return}return u.has(f)&&(l.timeout=i.throttleTimeout),!0});this.addToQueue.apply(this,le([],q(d),!1))},t.prototype.handleOtherReponse=function(e){var n=this;this.addToQueue.apply(this,le([],q(e.map(function(i){return i.timeout=i.attempts*n.retryTimeout,i})),!1))},t.prototype.fulfillRequest=function(e,n,i){this.saveEvents(),e.forEach(function(r){return r.callback(ht(r.event,n,i))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(n){return n.event}));this.config.storageProvider.set(this.storageKey,e)}},t}(),Vs=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(n){return n.trim()})},j=function(t){return function(){var e=E({},t.config),n=e.loggerProvider,i=e.logLevel;return{logger:n,logLevel:i}}},zs=function(t,e){var n,i;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var r=$e(e.split(".")),s=r.next();!s.done;s=r.next()){var o=s.value;if(o in t)t=t[o];else return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return t},H=function(t,e){return function(){var n,i,r={};try{for(var s=$e(e),o=s.next();!o.done;o=s.next()){var a=o.value;r[a]=zs(t,a)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r}},V=function(t,e,n,i,r){return r===void 0&&(r=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=n(),c=a.logger,u=a.logLevel;if(u&&u<ae.Debug||!u||!c)return t.apply(r,s);var d={type:"invoke public method",name:e,args:s,stacktrace:Vs(1),time:{start:new Date().toISOString()},states:{}};i&&d.states&&(d.states.before=i());var l=t.apply(r,s);return l&&l.promise?l.promise.then(function(){i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))}):(i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))),l}},ln=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,ln)},Tr=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){return S(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return b(this,void 0,void 0,function(){return S(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return b(this,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:return n=i.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return b(this,void 0,void 0,function(){return S(this,function(i){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return b(this,void 0,void 0,function(){return S(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return b(this,void 0,void 0,function(){return S(this,function(e){return this.memoryStorage.clear(),[2]})})},t}(),Qn=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,i,r,s,o,a,c,u,d,l,f,p,_,h,m,T,P,v,y,R,U,J;if(typeof e!="object")return null;var C=e.code||0,X=this.buildStatus(C);switch(X){case z.Success:return{status:X,statusCode:C,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(r=e.server_upload_time)!==null&&r!==void 0?r:0}};case z.Invalid:return{status:X,statusCode:C,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(o=e.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(c=e.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(u=e.events_with_invalid_id_lengths)!==null&&u!==void 0?u:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(l=e.exceeded_daily_quota_devices)!==null&&l!==void 0?l:{},silencedDevices:(f=e.silenced_devices)!==null&&f!==void 0?f:[],silencedEvents:(p=e.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(_=e.throttled_devices)!==null&&_!==void 0?_:{},throttledEvents:(h=e.throttled_events)!==null&&h!==void 0?h:[]}};case z.PayloadTooLarge:return{status:X,statusCode:C,body:{error:(m=e.error)!==null&&m!==void 0?m:""}};case z.RateLimit:return{status:X,statusCode:C,body:{error:(T=e.error)!==null&&T!==void 0?T:"",epsThreshold:(P=e.eps_threshold)!==null&&P!==void 0?P:0,throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledUsers:(y=e.throttled_users)!==null&&y!==void 0?y:{},exceededDailyQuotaDevices:(R=e.exceeded_daily_quota_devices)!==null&&R!==void 0?R:{},exceededDailyQuotaUsers:(U=e.exceeded_daily_quota_users)!==null&&U!==void 0?U:{},throttledEvents:(J=e.throttled_events)!==null&&J!==void 0?J:[]}};case z.Timeout:default:return{status:X,statusCode:C}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?z.Success:e===429?z.RateLimit:e===413?z.PayloadTooLarge:e===408?z.Timeout:e>=400&&e<500?z.Invalid:e>=500?z.Failed:z.Unknown},t}(),ce=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Cn=function(){var t,e=ce();if(!(!((t=e==null?void 0:e.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),i=n.reduce(function(r,s){var o=s.split("=",2),a=Ni(o[0]),c=Ni(o[1]);return c&&(r[a]=c),r},{});return i},Ni=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}},Ws="utm_campaign",Ks="utm_content",Xs="utm_id",Qs="utm_medium",Js="utm_source",Zs="utm_term",ki="dclid",Di="fbclid",Oi="gbraid",Ui="gclid",Ai="ko_click_id",xi="msclkid",Pi="ttclid",Bi="twclid",Ci="wbraid",Jn={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,msclkid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},wr=function(){function t(){}return t.prototype.parse=function(){return b(this,void 0,void 0,function(){return S(this,function(e){return[2,E(E(E(E({},Jn),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=Cn(),n=e[Ws],i=e[Ks],r=e[Xs],s=e[Qs],o=e[Js],a=e[Zs];return{utm_campaign:n,utm_content:i,utm_id:r,utm_medium:s,utm_source:o,utm_term:a}},t.prototype.getReferrer=function(){var e,n,i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0,i.referring_domain=(n=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return i},t.prototype.getClickIds=function(){var e,n=Cn();return e={},e[ki]=n[ki],e[Di]=n[Di],e[Oi]=n[Oi],e[Ui]=n[Ui],e[Ai]=n[Ai],e[xi]=n[xi],e[Pi]=n[Pi],e[Bi]=n[Bi],e[Ci]=n[Ci],e},t}(),Rr=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[dn,e,t.substring(0,n)].filter(Boolean).join("_")},eo=function(t){return"".concat(dn.toLowerCase(),"_").concat(t.substring(0,6))},Gn=function(){function t(e){this.options=E({},e)}return t.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var e,n,i,r;return S(this,function(s){switch(s.label){case 0:if(!ce())return[2,!1];e=String(Date.now()),n=new t(this.options),i="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(i,e)];case 2:return s.sent(),[4,n.get(i)];case 3:return r=s.sent(),[2,r===e];case 4:return s.sent(),[2,!1];case 5:return[4,n.remove(i)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return b(this,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(n=i.sent(),!n)return[2,void 0];try{try{n=decodeURIComponent(atob(n))}catch{}return[2,JSON.parse(n)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n;return b(this,void 0,void 0,function(){var i,r,s;return S(this,function(o){return i=ce(),r=(n=i==null?void 0:i.document.cookie.split("; "))!==null&&n!==void 0?n:[],s=r.find(function(a){return a.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var i;return b(this,void 0,void 0,function(){var r,s,o,a,c,u;return S(this,function(d){try{r=(i=this.options.expirationDays)!==null&&i!==void 0?i:0,s=n!==null?r:-1,o=void 0,s&&(a=new Date,a.setTime(a.getTime()+s*24*60*60*1e3),o=a),c="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),o&&(c+="; expires=".concat(o.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),u=ce(),u&&(u.document.cookie=c)}catch{}return[2]})})},t.prototype.remove=function(e){return b(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return b(this,void 0,void 0,function(){return S(this,function(e){return[2]})})},t}(),to=function(t){Rt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,i){return b(this,void 0,void 0,function(){var r,s,o;return S(this,function(a){switch(a.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return r={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(i),method:"POST"},[4,fetch(n,r)];case 1:return s=a.sent(),[4,s.json()];case 2:return o=a.sent(),[2,this.buildResponse(o)]}})})},e}(Qn),no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yt={},io={get exports(){return yt},set exports(t){yt=t}};(function(t,e){(function(n,i){var r="0.7.31",s="",o="?",a="function",c="undefined",u="object",d="string",l="major",f="model",p="name",_="type",h="vendor",m="version",T="architecture",P="console",v="mobile",y="tablet",R="smarttv",U="wearable",J="embedded",C=275,X="Amazon",D="Apple",Ue="ASUS",Ae="BlackBerry",_e="Browser",xe="Chrome",Ut="Edge",Pe="Firefox",Be="Google",ze="Huawei",Ce="LG",Ge="Microsoft",Le="Motorola",We="Opera",B="Samsung",Me="Sony",yi="Xiaomi",vn="Zebra",Ei="Facebook",vs=function(I,O){var N={};for(var $ in I)O[$]&&O[$].length%2===0?N[$]=O[$].concat(I[$]):N[$]=I[$];return N},At=function(I){for(var O={},N=0;N<I.length;N++)O[I[N].toUpperCase()]=I[N];return O},bi=function(I,O){return typeof I===d?dt(O).indexOf(dt(I))!==-1:!1},dt=function(I){return I.toLowerCase()},ys=function(I){return typeof I===d?I.replace(/[^\d\.]/g,s).split(".")[0]:i},yn=function(I,O){if(typeof I===d)return I=I.replace(/^\s\s*/,s).replace(/\s\s*$/,s),typeof O===c?I:I.substring(0,C)},lt=function(I,O){for(var N=0,$,k,Pt,G,ft,de;N<O.length&&!ft;){var wi=O[N],Ri=O[N+1];for($=k=0;$<wi.length&&!ft;)if(ft=wi[$++].exec(I),ft)for(Pt=0;Pt<Ri.length;Pt++)de=ft[++k],G=Ri[Pt],typeof G===u&&G.length>0?G.length===2?typeof G[1]==a?this[G[0]]=G[1].call(this,de):this[G[0]]=G[1]:G.length===3?typeof G[1]===a&&!(G[1].exec&&G[1].test)?this[G[0]]=de?G[1].call(this,de,G[2]):i:this[G[0]]=de?de.replace(G[1],G[2]):i:G.length===4&&(this[G[0]]=de?G[3].call(this,de.replace(G[1],G[2])):i):this[G]=de||i;N+=2}},En=function(I,O){for(var N in O)if(typeof O[N]===u&&O[N].length>0){for(var $=0;$<O[N].length;$++)if(bi(O[N][$],I))return N===o?i:N}else if(bi(O[N],I))return N===o?i:N;return I},Es={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Si={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ti={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,We+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[p,We]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+_e]],[/\bqbcore\/([\w\.]+)/i],[m,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+_e],m],[/\bfocus\/([\w\.]+)/i],[m,[p,Pe+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,We+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,We+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+_e]],[/fxios\/([-\w\.]+)/i],[m,[p,Pe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+_e]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+_e],m],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Ei],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,xe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,xe+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+_e]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,En,Es]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,Pe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,dt]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,s,dt]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,B],[_,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,B],[_,v]],[/((ipod|iphone)\d+,\d+)/i],[f,[h,D],[_,v]],[/(ipad\d+,\d+)/i],[f,[h,D],[_,y]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[h,D],[_,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,D],[_,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,ze],[_,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,ze],[_,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[h,yi],[_,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,yi],[_,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[_,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[_,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[_,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,Le],[_,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,Le],[_,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,Ce],[_,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,Ce],[_,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[_,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[_,v]],[/(pixel c)\b/i],[f,[h,Be],[_,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,Be],[_,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,Me],[_,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,Me],[_,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[_,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,X],[_,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,X],[_,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[_,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,Ae],[_,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,Ue],[_,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,Ue],[_,v]],[/(nexus 9)/i],[f,[h,"HTC"],[_,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[_,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[_,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[_,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,"Sharp"],[_,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[_,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[_,y]],[/(surface duo)/i],[f,[h,Ge],[_,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[_,v]],[/(u304aa)/i],[f,[h,"AT&T"],[_,v]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[_,v]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[_,y]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[_,y]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[_,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[_,y]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[_,y]],[/\b(k88) b/i],[f,[h,"ZTE"],[_,y]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[_,v]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[_,v]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[_,y]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[_,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[_,y]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[_,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[_,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[_,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[_,v]],[/\b(ph-1) /i],[f,[h,"Essential"],[_,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[_,y]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[_,y]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[_,y]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[_,y]],[/(sprint) (\w+)/i],[h,f,[_,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,Ge],[_,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,vn],[_,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,vn],[_,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[_,P]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[_,P]],[/(playstation [345portablevi]+)/i],[f,[h,Me],[_,P]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,Ge],[_,P]],[/smart-tv.+(samsung)/i],[h,[_,R]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,B],[_,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,Ce],[_,R]],[/(apple) ?tv/i],[h,[f,D+" TV"],[_,R]],[/crkey/i],[[f,xe+"cast"],[h,Be],[_,R]],[/droid.+aft(\w)( bui|\))/i],[f,[h,X],[_,R]],[/\(dtv[\);].+(aquos)/i],[f,[h,"Sharp"],[_,R]],[/(bravia[\w- ]+) bui/i],[f,[h,Me],[_,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,yn],[f,yn],[_,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,R]],[/((pebble))app/i],[h,f,[_,U]],[/droid.+; (glass) \d/i],[f,[h,Be],[_,U]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,vn],[_,U]],[/(quest( 2)?)/i],[f,[h,Ei],[_,U]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[_,J]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[_,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[_,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[_,v]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,Ut+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[m,En,Si]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[m,En,Si]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,Ae]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,Pe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[p,xe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,m]]},se=function(I,O){if(typeof I===u&&(O=I,I=i),!(this instanceof se))return new se(I,O).getResult();var N=I||(typeof n!==c&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:s),$=O?vs(Ti,O):Ti;return this.getBrowser=function(){var k={};return k[p]=i,k[m]=i,lt.call(k,N,$.browser),k.major=ys(k.version),k},this.getCPU=function(){var k={};return k[T]=i,lt.call(k,N,$.cpu),k},this.getDevice=function(){var k={};return k[h]=i,k[f]=i,k[_]=i,lt.call(k,N,$.device),k},this.getEngine=function(){var k={};return k[p]=i,k[m]=i,lt.call(k,N,$.engine),k},this.getOS=function(){var k={};return k[p]=i,k[m]=i,lt.call(k,N,$.os),k},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return N},this.setUA=function(k){return N=typeof k===d&&k.length>C?yn(k,C):k,this},this.setUA(N),this};se.VERSION=r,se.BROWSER=At([p,m,l]),se.CPU=At([T]),se.DEVICE=At([f,h,_,P,v,R,y,U,J]),se.ENGINE=se.OS=At([p,m]),t.exports&&(e=t.exports=se),e.UAParser=se;var Ke=typeof n!==c&&(n.jQuery||n.Zepto);if(Ke&&!Ke.ua){var xt=new se;Ke.ua=xt.getResult(),Ke.ua.get=function(){return xt.getUA()},Ke.ua.set=function(I){xt.setUA(I);var O=xt.getResult();for(var N in O)Ke.ua[N]=O[N]}}})(typeof window=="object"?window:no)})(io,yt);const ro=yt;var so=function(){function t(){this.ua=new yt.UAParser(typeof navigator<"u"?navigator.userAgent:null).getResult()}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:co(),platform:"Web",os:oo(this.ua),deviceModel:ao(this.ua)}},t}(),oo=function(t){var e,n;return[(e=t.browser)===null||e===void 0?void 0:e.name,(n=t.browser)===null||n===void 0?void 0:n.major].filter(function(i){return i!=null}).join(" ")},ao=function(t){var e;return(e=t.os)===null||e===void 0?void 0:e.name},co=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},uo=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ve=function(){return ve=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ve.apply(this,arguments)},jt=function(t,e){var n=["string","number","boolean","undefined"],i=typeof t,r=typeof e;if(i!==r)return!1;for(var s=0,o=n;s<o.length;s++){var a=o[s];if(a===i)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var c=Array.isArray(t),u=Array.isArray(e);if(c!==u)return!1;if(c&&u){for(var d=0;d<t.length;d++)if(!jt(t[d],e[d]))return!1}else{var l=Object.keys(t).sort(),f=Object.keys(e).sort();if(!jt(l,f))return!1;var p=!0;return Object.keys(t).forEach(function(_){jt(t[_],e[_])||(p=!1)}),p}return!0},lo="$set",fo="$unset",po="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i});var _o=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=ve({},this.identity.userProperties),i=ve(ve({},this.identity),{userProperties:n});return{setUserId:function(r){return i.userId=r,this},setDeviceId:function(r){return i.deviceId=r,this},setUserProperties:function(r){return i.userProperties=r,this},updateUserProperties:function(r){for(var s=i.userProperties||{},o=0,a=Object.entries(r);o<a.length;o++){var c=a[o],u=c[0],d=c[1];switch(u){case lo:for(var l=0,f=Object.entries(d);l<f.length;l++){var p=f[l],_=p[0],h=p[1];s[_]=h}break;case fo:for(var m=0,T=Object.keys(d);m<T.length;m++){var _=T[m];delete s[_]}break;case po:s={};break}}return i.userProperties=s,this},commit:function(){return e.setIdentity(i),this}}},t.prototype.getIdentity=function(){return ve({},this.identity)},t.prototype.setIdentity=function(e){var n=ve({},this.identity);this.identity=ve({},e),jt(n,this.identity)||this.listeners.forEach(function(i){i(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),pt=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,ho=function(){function t(){this.identityStore=new _o,this.eventBridge=new uo,this.applicationContextProvider=new so}return t.getInstance=function(e){return pt.analyticsConnectorInstances||(pt.analyticsConnectorInstances={}),pt.analyticsConnectorInstances[e]||(pt.analyticsConnectorInstances[e]=new t),pt.analyticsConnectorInstances[e]},t}(),fn=function(){return ho.getInstance("$default_instance")},go=function(t){fn().identityStore.editIdentity().setUserId(t).commit()},mo=function(t){fn().identityStore.editIdentity().setDeviceId(t).commit()},vo=function(){function t(){this.name="identity",this.type=ne.BEFORE,this.identityStore=fn().identityStore}return t.prototype.execute=function(e){return b(this,void 0,void 0,function(){var n;return S(this,function(i){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return Promise.resolve(void 0)},t}(),yo=function(){var t,e,n,i;if(typeof navigator>"u")return"";var r=navigator.userLanguage;return(i=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:""},Eo=function(t){return typeof t=="boolean"?t:!!(t!=null&&t.fileDownloads)},bo=function(t){return typeof t=="boolean"?t:!!(t!=null&&t.formInteractions)},So=function(t){return typeof t=="boolean"?t:!!((t==null?void 0:t.pageViews)===!0||t!=null&&t.pageViews&&typeof t.pageViews=="object")},To=function(t){return typeof t=="boolean"?t:!!(t!=null&&t.sessions)},wo=function(t){var e,n=!((e=t.attribution)===null||e===void 0)&&e.trackPageViews?"attribution":function(){return!1},i=void 0,r="Page View",s=So(t.defaultTracking);return s&&(n=void 0,r=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(i=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(r=t.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:i,eventType:r}},bn=function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.name,s=i.args,o=i.resolve,a=t&&t[r];if(typeof a=="function"){var c=a.apply(t,s);typeof o=="function"&&o(c==null?void 0:c.promise)}}return t},Sn=function(t){var e=t;return e&&e._q!==void 0},Ro="1.9.3",Io="Web",No="$remote",ko=function(){function t(){this.name="context",this.type=ne.BEFORE,this.eventId=0,this.library="amplitude-ts/".concat(Ro);var e;typeof navigator<"u"&&(e=navigator.userAgent),this.uaResult=new ro(e).getResult()}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){return b(this,void 0,void 0,function(){var n,i,r,s,o,a;return S(this,function(c){return n=new Date().getTime(),i=this.uaResult.browser.name,r=this.uaResult.browser.version,s=this.uaResult.device.model||this.uaResult.os.name,o=this.uaResult.device.vendor,a=E(E(E(E(E(E(E(E(E(E(E(E({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Io}),this.config.trackingOptions.osName&&{os_name:i}),this.config.trackingOptions.osVersion&&{os_version:r}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:o}),this.config.trackingOptions.deviceModel&&{device_model:s}),this.config.trackingOptions.language&&{language:yo()}),this.config.trackingOptions.ipAddress&&{ip:No}),{insert_id:ln(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:this.eventId++,library:this.library}),[2,a]})})},t}(),Ir=function(){function t(){}return t.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var e,n,i,r;return S(this,function(s){switch(s.label){case 0:if(!ce())return[2,!1];e=String(Date.now()),n=new t,i="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(i,e)];case 2:return s.sent(),[4,n.get(i)];case 3:return r=s.sent(),[2,r===e];case 4:return s.sent(),[2,!1];case 5:return[4,n.remove(i)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return b(this,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=i.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return i.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return b(this,void 0,void 0,function(){return S(this,function(i){return[2,((n=ce())===null||n===void 0?void 0:n.localStorage.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var i;return b(this,void 0,void 0,function(){return S(this,function(r){try{(i=ce())===null||i===void 0||i.localStorage.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return b(this,void 0,void 0,function(){return S(this,function(i){try{(n=ce())===null||n===void 0||n.localStorage.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return b(this,void 0,void 0,function(){return S(this,function(n){try{(e=ce())===null||e===void 0||e.localStorage.clear()}catch{}return[2]})})},t}(),Do=function(t){Rt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return e.prototype.send=function(n,i){return b(this,void 0,void 0,function(){var r=this;return S(this,function(s){return[2,new Promise(function(o,a){typeof XMLHttpRequest>"u"&&a(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",n,!0),c.onreadystatechange=function(){if(c.readyState===r.state.done)try{var u=c.responseText,d=JSON.parse(u),l=r.buildResponse(d);o(l)}catch(f){a(f)}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(i))})]})})},e}(Qn),Oo=function(t){Rt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,i){return b(this,void 0,void 0,function(){var r=this;return S(this,function(s){return[2,new Promise(function(o,a){var c=ce();if(!(c!=null&&c.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var u=JSON.stringify(i),d=c.navigator.sendBeacon(n,JSON.stringify(i));return o(d?r.buildResponse({code:200,events_ingested:i.events.length,payload_size_bytes:u.length,server_upload_time:Date.now()}):r.buildResponse({code:500}))}catch(l){a(l)}})]})})},e}(Qn),It=function(){var t=new Tr,e={deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:t,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:30*60*1e3,trackingOptions:e,transportProvider:new to}},Gi=function(t){Rt(e,t);function e(n,i){var r=this,s,o,a,c,u,d,l,f,p,_=It();return r=t.call(this,E(E({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:_.transportProvider},i),{apiKey:n}))||this,r._optOut=!1,r.cookieStorage=(s=i==null?void 0:i.cookieStorage)!==null&&s!==void 0?s:_.cookieStorage,r.deviceId=i==null?void 0:i.deviceId,r.lastEventTime=i==null?void 0:i.lastEventTime,r.optOut=!!(i!=null&&i.optOut),r.sessionId=i==null?void 0:i.sessionId,r.userId=i==null?void 0:i.userId,r.appVersion=i==null?void 0:i.appVersion,r.attribution=i==null?void 0:i.attribution,r.cookieExpiration=(o=i==null?void 0:i.cookieExpiration)!==null&&o!==void 0?o:_.cookieExpiration,r.cookieSameSite=(a=i==null?void 0:i.cookieSameSite)!==null&&a!==void 0?a:_.cookieSameSite,r.cookieSecure=(c=i==null?void 0:i.cookieSecure)!==null&&c!==void 0?c:_.cookieSecure,r.cookieUpgrade=(u=i==null?void 0:i.cookieUpgrade)!==null&&u!==void 0?u:_.cookieUpgrade,r.defaultTracking=i==null?void 0:i.defaultTracking,r.disableCookies=(d=i==null?void 0:i.disableCookies)!==null&&d!==void 0?d:_.disableCookies,r.defaultTracking=i==null?void 0:i.defaultTracking,r.domain=(l=i==null?void 0:i.domain)!==null&&l!==void 0?l:_.domain,r.partnerId=i==null?void 0:i.partnerId,r.sessionTimeout=(f=i==null?void 0:i.sessionTimeout)!==null&&f!==void 0?f:_.sessionTimeout,r.trackingOptions=(p=i==null?void 0:i.trackingOptions)!==null&&p!==void 0?p:_.trackingOptions,r}return Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n,i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime};(n=this.cookieStorage)===null||n===void 0||n.set(Rr(this.apiKey),i)},e}(qs),Uo=function(t,e){return b(void 0,void 0,void 0,function(){var n,i,r,s,o,a,c,u,d,l,f,p,_,h;return S(this,function(m){switch(m.label){case 0:return n=It(),i=(_=e==null?void 0:e.deviceId)!==null&&_!==void 0?_:ln(),r=e==null?void 0:e.lastEventTime,s=e==null?void 0:e.optOut,o=e==null?void 0:e.sessionId,a=e==null?void 0:e.userId,c=e==null?void 0:e.cookieStorage,u=e==null?void 0:e.domain,d=Gi.bind,l=[void 0,t],f=[E({},e)],p={cookieStorage:c,deviceId:i,domain:u,lastEventTime:r,optOut:s,sessionId:o},[4,xo(e)];case 1:return[2,new(d.apply(Gi,l.concat([E.apply(void 0,f.concat([(p.storageProvider=m.sent(),p.trackingOptions=E(E({},n.trackingOptions),e==null?void 0:e.trackingOptions),p.transportProvider=(h=e==null?void 0:e.transportProvider)!==null&&h!==void 0?h:kr(e==null?void 0:e.transport),p.userId=a,p)]))])))]}})})},Nr=function(t,e){return e===void 0&&(e=It()),b(void 0,void 0,void 0,function(){var n,i,r;return S(this,function(s){switch(s.label){case 0:return n=E(E({},e),t),i=t==null?void 0:t.cookieStorage,r=!i,r?[3,2]:[4,i.isEnabled()];case 1:r=!s.sent(),s.label=2;case 2:return r?[2,Ao(n)]:[2,i]}})})},Ao=function(t){return b(void 0,void 0,void 0,function(){var e,n;return S(this,function(i){switch(i.label){case 0:return e=new Gn({domain:t.domain,expirationDays:t.cookieExpiration,sameSite:t.cookieSameSite,secure:t.cookieSecure}),n=t.disableCookies,n?[3,2]:[4,e.isEnabled()];case 1:n=!i.sent(),i.label=2;case 2:return n?(e=new Ir,[4,e.isEnabled()]):[3,4];case 3:i.sent()||(e=new Tr),i.label=4;case 4:return[2,e]}})})},xo=function(t){return b(void 0,void 0,void 0,function(){var e,n,i,r,s,o,a,c;return S(this,function(u){switch(u.label){case 0:if(e=t&&Object.prototype.hasOwnProperty.call(t,"storageProvider"),!(!e||t.storageProvider))return[3,9];u.label=1;case 1:u.trys.push([1,7,8,9]),n=$e([t==null?void 0:t.storageProvider,new Ir]),i=n.next(),u.label=2;case 2:return i.done?[3,6]:(r=i.value,s=r,s?[4,r.isEnabled()]:[3,4]);case 3:s=u.sent(),u.label=4;case 4:if(s)return[2,r];u.label=5;case 5:return i=n.next(),[3,2];case 6:return[3,9];case 7:return o=u.sent(),a={error:o},[3,9];case 8:try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}return[7];case 9:return[2,void 0]}})})},kr=function(t){return t===Kt.XHR?new Do:t===Kt.SendBeacon?new Oo:It().transportProvider},Po=function(t){return b(void 0,void 0,void 0,function(){var e,n,i,r,s,s,o,a,c,u;return S(this,function(d){switch(d.label){case 0:return[4,new Gn().isEnabled()];case 1:if(!d.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,n=e.split("."),i=[],r="AMP_TLDTEST",s=n.length-2;s>=0;--s)i.push(n.slice(s).join("."));s=0,d.label=2;case 2:return s<i.length?(o=i[s],a={domain:"."+o},c=new Gn(a),[4,c.set(r,1)]):[3,7];case 3:return d.sent(),[4,c.get(r)];case 4:return u=d.sent(),u?[4,c.remove(r)]:[3,6];case 5:return d.sent(),[2,"."+o];case 6:return s++,[3,2];case 7:return[2,""]}})})},Bo=function(t,e){return b(void 0,void 0,void 0,function(){var n,i,r,s,o,a,c,u,d,l;return S(this,function(f){switch(f.label){case 0:return[4,Nr(e)];case 1:return n=f.sent(),i=eo(t),[4,n.getRaw(i)];case 2:return r=f.sent(),r?((l=e==null?void 0:e.cookieUpgrade)!==null&&l!==void 0?l:It().cookieUpgrade)?[4,n.remove(i)]:[3,4]:[2,{optOut:!1}];case 3:f.sent(),f.label=4;case 4:return s=q(r.split("."),5),o=s[0],a=s[1],c=s[2],u=s[3],d=s[4],[2,{deviceId:o,userId:Co(a),sessionId:Li(u),lastEventTime:Li(d),optOut:!!c}]}})})},Li=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},Co=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}},Go=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[dn,e,t.substring(0,n)].filter(Boolean).join("_")},Mi=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},Lo=function(t,e,n){var i;t.referrer;var r=t.referring_domain,s=Pn(t,["referrer","referring_domain"]),o=e||{};o.referrer;var a=o.referring_domain,c=Pn(o,["referrer","referring_domain"]);if(t.referring_domain&&(!((i=n.excludeReferrers)===null||i===void 0)&&i.includes(t.referring_domain)))return!1;var u=JSON.stringify(s)!==JSON.stringify(c),d=Mi(r||"")!==Mi(a||"");return!e||u||d},Mo=function(t,e){var n=E(E({},Jn),t),i=Object.entries(n).reduce(function(r,s){var o,a=q(s,2),c=a[0],u=a[1];return r.setOnce("initial_".concat(c),(o=u??e.initialEmptyValue)!==null&&o!==void 0?o:"EMPTY"),u?r.set(c,u):r.unset(c)},new Xt);return br(i)},Yo=function(){for(var t=this,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,s={},o=q(n,2),a=o[0],c=o[1];a&&"init"in a?(r=a,c&&(s=c)):a&&(s=a);var u=(e=s.excludeReferrers)!==null&&e!==void 0?e:[];typeof location<"u"&&u.unshift(location.hostname),s=E(E({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},s),{excludeReferrers:u});var d={name:"web-attribution",type:ne.BEFORE,setup:function(l,f){var p;return b(this,void 0,void 0,function(){var _,h,m,T,P,v,y,R;return S(this,function(U){switch(U.label){case 0:return r=r??f,r?s.disabled?(l.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(l.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),!f&&!(!((p=l.attribution)===null||p===void 0)&&p.disabled)&&(l.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),l.attribution={disabled:!0}),h=l.cookieStorage,m=Go(l.apiKey,"MKTG"),[4,Promise.all([new wr().parse(),h.get(m)])]):(_=a?"Options":"undefined",l.loggerProvider.error("Argument of type '".concat(_,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return T=q.apply(void 0,[U.sent(),2]),P=T[0],v=T[1],y=this.__pluginEnabledOverride,(y??Lo(P,v,s))&&(s.resetSessionOnNewCampaign&&(r.setSessionId(Date.now()),l.loggerProvider.log("Created a new session for new campaign.")),l.loggerProvider.log("Tracking attribution."),R=Mo(P,s),r.track(R),h.set(m,P)),[2]}})})},execute:function(l){return b(t,void 0,void 0,function(){return S(this,function(f){return[2,l]})})}};return d.__pluginEnabledOverride=void 0,d},Fo=function(t){var e={};for(var n in t){var i=t[n];i&&(e[n]=i)}return e},$o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i={},r=ce(),s=void 0,o=q(t,2),a=o[0],c=o[1];a&&"init"in a?(n=a,c&&(i=c)):a&&(i=a);var u=function(){return b(void 0,void 0,void 0,function(){var _,h,m;return S(this,function(T){switch(T.label){case 0:return h={event_type:(m=i.eventType)!==null&&m!==void 0?m:"Page View"},_=[{}],[4,qo()];case 1:return[2,(h.event_properties=E.apply(void 0,[E.apply(void 0,_.concat([T.sent()])),{page_domain:typeof location<"u"&&location.hostname||"",page_location:typeof location<"u"&&location.href||"",page_path:typeof location<"u"&&location.pathname||"",page_title:typeof document<"u"&&document.title||"",page_url:typeof location<"u"&&location.href.split("?")[0]||""}]),h)]}})})},d=function(){return typeof i.trackOn>"u"||typeof i.trackOn=="function"&&i.trackOn()},l=null,f=function(){return b(void 0,void 0,void 0,function(){var _,h,m;return S(this,function(T){switch(T.label){case 0:return _=location.href,Ho(i.trackHistoryChanges,_,l||"")&&d()?(s==null||s.log("Tracking page view event"),n!=null?[3,1]:[3,3]):[3,4];case 1:return m=(h=n).track,[4,u()];case 2:m.apply(h,[T.sent()]),T.label=3;case 3:T.label=4;case 4:return l=_,[2]}})})},p={name:"page-view-tracking",type:ne.ENRICHMENT,setup:function(_,h){return b(void 0,void 0,void 0,function(){var m,T,P,v,y;return S(this,function(R){switch(R.label){case 0:return n=n??h,n?(s=_.loggerProvider,s.log("Installing @amplitude/plugin-page-view-tracking-browser"),i.trackOn=!((v=_.attribution)===null||v===void 0)&&v.trackPageViews?"attribution":i.trackOn,!h&&(!((y=_.attribution)===null||y===void 0)&&y.trackPageViews)&&(s.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),_.attribution.trackPageViews=!1),i.trackHistoryChanges&&r&&(r.addEventListener("popstate",function(){f()}),r.history.pushState=new Proxy(r.history.pushState,{apply:function(U,J,C){var X=q(C,3),D=X[0],Ue=X[1],Ae=X[2];return f(),U.apply(J,[D,Ue,Ae])}})),d()?(s.log("Tracking page view event"),P=(T=n).track,[4,u()]):[3,2]):(m=a?"Options":"undefined",_.loggerProvider.error("Argument of type '".concat(m,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:P.apply(T,[R.sent()]),R.label=2;case 2:return[2]}})})},execute:function(_){return b(void 0,void 0,void 0,function(){var h;return S(this,function(m){switch(m.label){case 0:return i.trackOn==="attribution"&&jo(_)?(s==null||s.log("Enriching campaign event to page view event with campaign parameters"),[4,u()]):[3,2];case 1:h=m.sent(),_.event_type=h.event_type,_.event_properties=E(E({},_.event_properties),h.event_properties),m.label=2;case 2:return[2,_]}})})}};return p.__trackHistoryPageView=f,p},qo=function(){return b(void 0,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return t=Fo,[4,new wr().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},jo=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,n=e[Q.SET]||{},i=e[Q.UNSET]||{},r=le(le([],q(Object.keys(n)),!1),q(Object.keys(i)),!1);return Object.keys(Jn).every(function(s){return r.includes(s)})}return!1},Ho=function(t,e,n){switch(t){case"pathOnly":return e.split("?")[0]!==n.split("?")[0];default:return e!==n}},Z="[Amplitude]",Dr="".concat(Z," Page Viewed"),Yi="".concat(Z," Form Started"),Vo="".concat(Z," Form Submitted"),zo="".concat(Z," File Downloaded"),Or="session_start",Ur="session_end",Wo="".concat(Z," File Extension"),Ko="".concat(Z," File Name"),Xo="".concat(Z," Link ID"),Qo="".concat(Z," Link Text"),Jo="".concat(Z," Link URL"),Tn="".concat(Z," Form ID"),wn="".concat(Z," Form Name"),Rn="".concat(Z," Form Destination"),Zo=function(){var t,e,n="@amplitude/plugin-session-handler",i=ne.BEFORE,r=function(o,a){return b(void 0,void 0,void 0,function(){return S(this,function(c){return t=o,e=a,[2]})})},s=function(o){return b(void 0,void 0,void 0,function(){var a,c,u;return S(this,function(d){return a=Date.now(),o.event_type===Or||o.event_type===Ur?(t.lastEventTime=a,[2,o]):(c=t.lastEventTime||a,u=a-c,u>t.sessionTimeout&&(e.setSessionId(a),o.session_id=e.getSessionId(),o.time=a),t.lastEventTime=a,[2,o])})})};return{name:n,type:i,setup:r,execute:s}},ea=function(){var t="@amplitude/plugin-form-interaction-tracking-browser",e=ne.ENRICHMENT,n=function(r,s){return b(void 0,void 0,void 0,function(){var o,a,c;return S(this,function(u){return s?(o=function(d){var l=!1;d.addEventListener("change",function(){var f;l||s.track(Yi,(f={},f[Tn]=d.id,f[wn]=d.name,f[Rn]=d.action,f)),l=!0},{}),d.addEventListener("submit",function(){var f,p;l||s.track(Yi,(f={},f[Tn]=d.id,f[wn]=d.name,f[Rn]=d.action,f)),s.track(Vo,(p={},p[Tn]=d.id,p[wn]=d.name,p[Rn]=d.action,p)),l=!1})},a=Array.from(document.getElementsByTagName("form")),a.forEach(o),typeof MutationObserver<"u"&&(c=new MutationObserver(function(d){d.forEach(function(l){l.addedNodes.forEach(function(f){f.nodeName==="FORM"&&o(f),"querySelectorAll"in f&&typeof f.querySelectorAll=="function"&&Array.from(f.querySelectorAll("form")).map(o)})})}),c.observe(document.body,{subtree:!0,childList:!0})),[2]):(r.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},i=function(r){return b(void 0,void 0,void 0,function(){return S(this,function(s){return[2,r]})})};return{name:t,type:e,setup:n,execute:i}},ta=function(){var t="@amplitude/plugin-file-download-tracking-browser",e=ne.ENRICHMENT,n=function(r,s){return b(void 0,void 0,void 0,function(){var o,a,c,u;return S(this,function(d){return s?(o=function(l){var f;try{f=new URL(l.href,window.location.href)}catch{return}var p=a.exec(f.href),_=p==null?void 0:p[1];_&&l.addEventListener("click",function(){var h;_&&s.track(zo,(h={},h[Wo]=_,h[Ko]=f.pathname,h[Xo]=l.id,h[Qo]=l.text,h[Jo]=l.href,h))})},a=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,c=Array.from(document.getElementsByTagName("a")),c.forEach(o),typeof MutationObserver<"u"&&(u=new MutationObserver(function(l){l.forEach(function(f){f.addedNodes.forEach(function(p){p.nodeName==="A"&&o(p),"querySelectorAll"in p&&typeof p.querySelectorAll=="function"&&Array.from(p.querySelectorAll("a")).map(o)})})}),u.observe(document.body,{subtree:!0,childList:!0})),[2]):(r.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},i=function(r){return b(void 0,void 0,void 0,function(){return S(this,function(s){return[2,r]})})};return{name:t,type:e,setup:n,execute:i}},na={page_domain:"".concat(Z," Page Domain"),page_location:"".concat(Z," Page Location"),page_path:"".concat(Z," Page Path"),page_title:"".concat(Z," Page Title"),page_url:"".concat(Z," Page URL")},ia=function(){var t="@amplitude/plugin-default-page-view-event-enrichment-browser",e=ne.ENRICHMENT,n=function(){return b(void 0,void 0,void 0,function(){return S(this,function(r){return[2,void 0]})})},i=function(r){return b(void 0,void 0,void 0,function(){return S(this,function(s){return r.event_type===Dr&&r.event_properties&&(r.event_properties=Object.entries(r.event_properties).reduce(function(o,a){var c=q(a,2),u=c[0],d=c[1],l=na[u];return l?o[l]=d:o[u]=d,o},{})),[2,r]})})};return{name:t,type:e,setup:n,execute:i}},ra=function(t){Rt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,i,r){return n===void 0&&(n=""),oe(this._init(E(E({},r),{userId:i,apiKey:n})))},e.prototype._init=function(n){var i,r,s,o,a,c,u,d,l,f,p,_,h,m,T,P,v,y;return b(this,void 0,void 0,function(){var R,U,J,C,X,D,Ue,Ae,_e,xe,Ut,Pe,Be,ze,Ce,Ge,Le,We=this;return S(this,function(B){switch(B.label){case 0:return this.initializing?[2]:(this.initializing=!0,R=n,n.disableCookies?(U="",[3,5]):[3,1]);case 1:return(i=n.domain)!==null&&i!==void 0?(J=i,[3,4]):[3,2];case 2:return[4,Po()];case 3:J=B.sent(),B.label=4;case 4:U=J,B.label=5;case 5:return R.domain=U,[4,Bo(n.apiKey,n)];case 6:return C=B.sent(),[4,Nr(n)];case 7:return X=B.sent(),[4,X.get(Rr(n.apiKey))];case 8:return D=B.sent(),Ue=Cn(),Ae=(o=(s=(r=n.deviceId)!==null&&r!==void 0?r:Ue.deviceId)!==null&&s!==void 0?s:D==null?void 0:D.deviceId)!==null&&o!==void 0?o:C.deviceId,_e=(c=(a=n.sessionId)!==null&&a!==void 0?a:D==null?void 0:D.sessionId)!==null&&c!==void 0?c:C.sessionId,xe=(d=(u=n.optOut)!==null&&u!==void 0?u:D==null?void 0:D.optOut)!==null&&d!==void 0?d:C.optOut,Ut=(l=D==null?void 0:D.lastEventTime)!==null&&l!==void 0?l:C.lastEventTime,Pe=(p=(f=n.userId)!==null&&f!==void 0?f:D==null?void 0:D.userId)!==null&&p!==void 0?p:C.userId,this.previousSessionDeviceId=(_=D==null?void 0:D.deviceId)!==null&&_!==void 0?_:C.deviceId,this.previousSessionUserId=(h=D==null?void 0:D.userId)!==null&&h!==void 0?h:C.userId,[4,Uo(n.apiKey,E(E({},n),{deviceId:Ae,sessionId:_e,optOut:xe,lastEventTime:Ut,userId:Pe,cookieStorage:X}))];case 9:return Be=B.sent(),[4,t.prototype._init.call(this,Be)];case 10:return B.sent(),ze=!this.config.lastEventTime,(!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId(Date.now()),ze=!0),Ce=fn(),Ce.eventBridge.setEventReceiver(function(Me){We.track(Me.eventType,Me.eventProperties)}),Ce.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new Hs).promise];case 11:return B.sent(),[4,this.add(new ko).promise];case 12:return B.sent(),[4,this.add(Zo()).promise];case 13:return B.sent(),[4,this.add(new vo).promise];case 14:return B.sent(),Eo(this.config.defaultTracking)?[4,this.add(ta()).promise]:[3,16];case 15:B.sent(),B.label=16;case 16:return bo(this.config.defaultTracking)?[4,this.add(ea()).promise]:[3,18];case 17:B.sent(),B.label=18;case 18:return!((m=this.config.attribution)===null||m===void 0)&&m.disabled?[3,20]:(Ge=Yo({excludeReferrers:(T=this.config.attribution)===null||T===void 0?void 0:T.excludeReferrers,initialEmptyValue:(P=this.config.attribution)===null||P===void 0?void 0:P.initialEmptyValue,resetSessionOnNewCampaign:(v=this.config.attribution)===null||v===void 0?void 0:v.resetSessionOnNewCampaign}),Ge.__pluginEnabledOverride=ze||!((y=this.config.attribution)===null||y===void 0)&&y.trackNewCampaigns?void 0:!1,[4,this.add(Ge).promise]);case 19:B.sent(),B.label=20;case 20:return Le=wo(this.config),Le.eventType=Le.eventType||Dr,[4,this.add($o(Le)).promise];case 21:return B.sent(),[4,this.add(ia()).promise];case 22:return B.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 23:return B.sent(),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}(n!==this.config.userId||n===void 0)&&(this.config.userId=n,this.setSessionId(Date.now()),go(n))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.deviceId=n,mo(n)},e.prototype.reset=function(){this.setDeviceId(ln()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){if(!this.config){this.q.push(this.setSessionId.bind(this,n));return}var i=this.getSessionId(),r=this.config.lastEventTime;if(this.config.sessionId=n,this.config.lastEventTime=void 0,To(this.config.defaultTracking)){if(i&&r){var s={session_id:i,time:r+1};s.device_id=this.previousSessionDeviceId,s.user_id=this.previousSessionUserId,this.track(Ur,void 0,s)}this.track(Or,void 0,{session_id:n,time:n-1}),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=kr(n)},e.prototype.identify=function(n,i){if(Sn(n)){var r=n._q;n._q=[],n=bn(new Xt,r)}return i!=null&&i.user_id&&this.setUserId(i.user_id),i!=null&&i.device_id&&this.setDeviceId(i.device_id),t.prototype.identify.call(this,n,i)},e.prototype.groupIdentify=function(n,i,r,s){if(Sn(r)){var o=r._q;r._q=[],r=bn(new Xt,o)}return t.prototype.groupIdentify.call(this,n,i,r,s)},e.prototype.revenue=function(n,i){if(Sn(n)){var r=n._q;n._q=[],n=bn(new Ys,r)}return t.prototype.revenue.call(this,n,i)},e}(Ms),sa=function(){var t=new ra;return{init:V(t.init.bind(t),"init",j(t),H(t,["config"])),add:V(t.add.bind(t),"add",j(t),H(t,["config.apiKey","timeline.plugins"])),remove:V(t.remove.bind(t),"remove",j(t),H(t,["config.apiKey","timeline.plugins"])),track:V(t.track.bind(t),"track",j(t),H(t,["config.apiKey","timeline.queue.length"])),logEvent:V(t.logEvent.bind(t),"logEvent",j(t),H(t,["config.apiKey","timeline.queue.length"])),identify:V(t.identify.bind(t),"identify",j(t),H(t,["config.apiKey","timeline.queue.length"])),groupIdentify:V(t.groupIdentify.bind(t),"groupIdentify",j(t),H(t,["config.apiKey","timeline.queue.length"])),setGroup:V(t.setGroup.bind(t),"setGroup",j(t),H(t,["config.apiKey","timeline.queue.length"])),revenue:V(t.revenue.bind(t),"revenue",j(t),H(t,["config.apiKey","timeline.queue.length"])),flush:V(t.flush.bind(t),"flush",j(t),H(t,["config.apiKey","timeline.queue.length"])),getUserId:V(t.getUserId.bind(t),"getUserId",j(t),H(t,["config","config.userId"])),setUserId:V(t.setUserId.bind(t),"setUserId",j(t),H(t,["config","config.userId"])),getDeviceId:V(t.getDeviceId.bind(t),"getDeviceId",j(t),H(t,["config","config.deviceId"])),setDeviceId:V(t.setDeviceId.bind(t),"setDeviceId",j(t),H(t,["config","config.deviceId"])),reset:V(t.reset.bind(t),"reset",j(t),H(t,["config","config.userId","config.deviceId"])),getSessionId:V(t.getSessionId.bind(t),"getSessionId",j(t),H(t,["config"])),setSessionId:V(t.setSessionId.bind(t),"setSessionId",j(t),H(t,["config"])),setOptOut:V(t.setOptOut.bind(t),"setOptOut",j(t),H(t,["config"])),setTransport:V(t.setTransport.bind(t),"setTransport",j(t),H(t,["config"]))}};const K=sa();K.add;K.flush;K.getDeviceId;K.getSessionId;K.getUserId;K.groupIdentify;K.identify;var oa=K.init;K.logEvent;K.remove;K.reset;K.revenue;K.setDeviceId;K.setGroup;K.setOptOut;K.setSessionId;K.setTransport;K.setUserId;var Fi=K.track;const Ar=Object.prototype.toString;function xr(t){switch(Ar.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return pe(t,Error)}}function ct(t,e){return Ar.call(t)===`[object ${e}]`}function Pr(t){return ct(t,"ErrorEvent")}function $i(t){return ct(t,"DOMError")}function aa(t){return ct(t,"DOMException")}function ke(t){return ct(t,"String")}function Br(t){return t===null||typeof t!="object"&&typeof t!="function"}function it(t){return ct(t,"Object")}function Zn(t){return typeof Event<"u"&&pe(t,Event)}function ca(t){return typeof Element<"u"&&pe(t,Element)}function Cr(t){return ct(t,"RegExp")}function Oe(t){return!!(t&&t.then&&typeof t.then=="function")}function ua(t){return it(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Gr(t){return typeof t=="number"&&t!==t}function pe(t,e){try{return t instanceof e}catch{return!1}}function Ct(t){return t&&t.Math==Math?t:void 0}const re=typeof globalThis=="object"&&Ct(globalThis)||typeof window=="object"&&Ct(window)||typeof self=="object"&&Ct(self)||typeof global=="object"&&Ct(global)||function(){return this}()||{};function Nt(){return re}function ei(t,e,n){const i=n||re,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const Ht=Nt(),da=80;function rt(t,e={}){try{let n=t;const i=5,r=[];let s=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(e)?e:e.keyAttrs,l=!Array.isArray(e)&&e.maxStringLength||da;for(;n&&s++<i&&(u=la(n,d),!(u==="html"||s>1&&o+r.length*c+u.length>=l));)r.push(u),o+=u.length,n=n.parentNode;return r.reverse().join(a)}catch{return"<unknown>"}}function la(t,e){const n=t,i=[];let r,s,o,a,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(u&&u.length)u.forEach(l=>{i.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&i.push(`#${n.id}`),r=n.className,r&&ke(r))for(s=r.split(/\s+/),c=0;c<s.length;c++)i.push(`.${s[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function fa(){try{return Ht.document.location.href}catch{return""}}function pa(t){return Ht.document&&Ht.document.querySelector?Ht.document.querySelector(t):null}class ee extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const _a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ha(t){return t==="http"||t==="https"}function ti(t,e=!1){const{host:n,path:i,pass:r,port:s,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&r?`:${r}`:""}@${n}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function ga(t){const e=_a.exec(t);if(!e)throw new ee(`Invalid Sentry Dsn: ${t}`);const[n,i,r="",s,o="",a]=e.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Lr({host:s,pass:r,path:c,projectId:u,port:o,protocol:n,publicKey:i})}function Lr(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ma(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:i}=t;if(["protocol","publicKey","host","projectId"].forEach(s=>{if(!t[s])throw new ee(`Invalid Sentry Dsn: ${s} missing`)}),!n.match(/^\d+$/))throw new ee(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!ha(i))throw new ee(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(e&&isNaN(parseInt(e,10)))throw new ee(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function va(t){const e=typeof t=="string"?ga(t):Lr(t);return ma(e),e}const ya="Sentry Logger ",Qt=["debug","info","warn","error","log","assert","trace"];function Mr(t){if(!("console"in re))return t();const e=re.console,n={};Qt.forEach(i=>{const r=e[i]&&e[i].__sentry_original__;i in e&&r&&(n[i]=e[i],e[i]=r)});try{return t()}finally{Object.keys(n).forEach(i=>{e[i]=n[i]})}}function qi(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Qt.forEach(n=>{e[n]=(...i)=>{t&&Mr(()=>{re.console[n](`${ya}[${n}]:`,...i)})}}):Qt.forEach(n=>{e[n]=()=>{}}),e}let g;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?g=ei("logger",qi):g=qi();function gt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ji(t,e){if(!Array.isArray(t))return"";const n=[];for(let i=0;i<t.length;i++){const r=t[i];try{n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function Ea(t,e,n=!1){return ke(t)?Cr(e)?e.test(t):ke(e)?n?t===e:t.includes(e):!1:!1}function kt(t,e=[],n=!1){return e.some(i=>Ea(t,i,n))}function M(t,e,n){if(!(e in t))return;const i=t[e],r=n(i);if(typeof r=="function")try{Yr(r,i)}catch{}t[e]=r}function ni(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function Yr(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,ni(t,"__sentry_original__",e)}function ii(t){return t.__sentry_original__}function ba(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Fr(t){if(xr(t))return{message:t.message,name:t.name,stack:t.stack,...Vi(t)};if(Zn(t)){const e={type:t.type,target:Hi(t.target),currentTarget:Hi(t.currentTarget),...Vi(t)};return typeof CustomEvent<"u"&&pe(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Hi(t){try{return ca(t)?rt(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Vi(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Sa(t,e=40){const n=Object.keys(Fr(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return gt(n[0],e);for(let i=n.length;i>0;i--){const r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:gt(r,e)}return""}function we(t){return Ln(t,new Map)}function Ln(t,e){if(it(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=Ln(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(Ln(r,e))}),i}return t}const $r=50,zi=/\(error: (.*)\)/;function qr(...t){const e=t.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0)=>{const r=[],s=n.split(`
`);for(let o=i;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const c=zi.test(a)?a.replace(zi,"$1"):a;for(const u of e){const d=u(c);if(d){r.push(d);break}}if(r.length>=$r)break}return wa(r)}}function Ta(t){return Array.isArray(t)?qr(...t):t}function wa(t){if(!t.length)return[];const e=t.slice(0,$r),n=e[e.length-1].function;n&&/sentryWrapped/.test(n)&&e.pop(),e.reverse();const i=e[e.length-1].function;return i&&/captureMessage|captureException/.test(i)&&e.pop(),e.map(r=>({...r,filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}const In="<anonymous>";function De(t){try{return!t||typeof t!="function"?In:t.name||In}catch{return In}}const Mn=Nt();function jr(){if(!("fetch"in Mn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Yn(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Ra(){if(!jr())return!1;if(Yn(Mn.fetch))return!0;let t=!1;const e=Mn.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Yn(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}const Gt=Nt();function Ia(){const t=Gt.chrome,e=t&&t.app&&t.app.runtime,n="history"in Gt&&!!Gt.history.pushState&&!!Gt.history.replaceState;return!e&&n}const L=Nt(),mt={},Wi={};function Na(t){if(!Wi[t])switch(Wi[t]=!0,t){case"console":ka();break;case"dom":Ga();break;case"xhr":Aa();break;case"fetch":Da();break;case"history":xa();break;case"error":La();break;case"unhandledrejection":Ma();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("unknown instrumentation type:",t);return}}function ie(t,e){mt[t]=mt[t]||[],mt[t].push(e),Na(t)}function ue(t,e){if(!(!t||!mt[t]))for(const n of mt[t]||[])try{n(e)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${De(n)}
Error:`,i)}}function ka(){"console"in L&&Qt.forEach(function(t){t in L.console&&M(L.console,t,function(e){return function(...n){ue("console",{args:n,level:t}),e&&e.apply(L.console,n)}})})}function Da(){Ra()&&M(L,"fetch",function(t){return function(...e){const n={args:e,fetchData:{method:Oa(e),url:Ua(e)},startTimestamp:Date.now()};return ue("fetch",{...n}),t.apply(L,e).then(i=>(ue("fetch",{...n,endTimestamp:Date.now(),response:i}),i),i=>{throw ue("fetch",{...n,endTimestamp:Date.now(),error:i}),i})}})}function Oa(t=[]){return"Request"in L&&pe(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Ua(t=[]){return typeof t[0]=="string"?t[0]:"Request"in L&&pe(t[0],Request)?t[0].url:String(t[0])}function Aa(){if(!("XMLHttpRequest"in L))return;const t=XMLHttpRequest.prototype;M(t,"open",function(e){return function(...n){const i=n[1],r=this.__sentry_xhr__={method:ke(n[0])?n[0].toUpperCase():n[0],url:n[1]};ke(i)&&r.method==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const o=this.__sentry_xhr__;if(o&&this.readyState===4){try{o.status_code=this.status}catch{}ue("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?M(this,"onreadystatechange",function(o){return function(...a){return s(),o.apply(this,a)}}):this.addEventListener("readystatechange",s),e.apply(this,n)}}),M(t,"send",function(e){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),ue("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}let Lt;function xa(){if(!Ia())return;const t=L.onpopstate;L.onpopstate=function(...n){const i=L.location.href,r=Lt;if(Lt=i,ue("history",{from:r,to:i}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=Lt,o=String(r);Lt=o,ue("history",{from:s,to:o})}return n.apply(this,i)}}M(L.history,"pushState",e),M(L.history,"replaceState",e)}const Pa=1e3;let Mt,Yt;function Ba(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Ca(t){if(t.type!=="keypress")return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function Ki(t,e=!1){return n=>{if(!n||Yt===n||Ca(n))return;const i=n.type==="keypress"?"input":n.type;Mt===void 0?(t({event:n,name:i,global:e}),Yt=n):Ba(Yt,n)&&(t({event:n,name:i,global:e}),Yt=n),clearTimeout(Mt),Mt=L.setTimeout(()=>{Mt=void 0},Pa)}}function Ga(){if(!("document"in L))return;const t=ue.bind(null,"dom"),e=Ki(t,!0);L.document.addEventListener("click",e,!1),L.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const i=L[n]&&L[n].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(M(i,"addEventListener",function(r){return function(s,o,a){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const l=Ki(t);d.handler=l,r.call(this,s,l,a)}d.refCount++}catch{}return r.call(this,s,o,a)}}),M(i,"removeEventListener",function(r){return function(s,o,a){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(r.call(this,s,d.handler,a),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return r.call(this,s,o,a)}}))})}let Nn=null;function La(){Nn=L.onerror,L.onerror=function(t,e,n,i,r){return ue("error",{column:i,error:r,line:n,msg:t,url:e}),Nn?Nn.apply(this,arguments):!1}}let kn=null;function Ma(){kn=L.onunhandledrejection,L.onunhandledrejection=function(t){return ue("unhandledrejection",t),kn?kn.apply(this,arguments):!0}}function Ya(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(r){if(t)return e.has(r)?!0:(e.add(r),!1);for(let s=0;s<e.length;s++)if(e[s]===r)return!0;return e.push(r),!1}function i(r){if(t)e.delete(r);else for(let s=0;s<e.length;s++)if(e[s]===r){e.splice(s,1);break}}return[n,i]}function Re(){const t=re,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function Hr(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function be(t){const{message:e,event_id:n}=t;if(e)return e;const i=Hr(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function Fn(t,e,n){const i=t.exception=t.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=e||""),s.type||(s.type=n||"Error")}function Et(t,e){const n=Hr(t);if(!n)return;const i={type:"generic",handled:!0},r=n.mechanism;if(n.mechanism={...i,...r,...e},e&&"data"in e){const s={...r&&r.data,...e.data};n.mechanism.data=s}}function Xi(t){if(t&&t.__sentry_captured__)return!0;try{ni(t,"__sentry_captured__",!0)}catch{}return!1}function Jt(t){return Array.isArray(t)?t:[t]}function Fa(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function $a(){return"npm"}function ri(){return!Fa()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Te(t,e){return t.require(e)}function qe(t){let e;try{e=Te(me,t)}catch{}try{const{cwd:n}=Te(me,"process");e=Te(me,`${n()}/node_modules/${t}`)}catch{}return e}function ye(t,e=1/0,n=1/0){try{return $n("",t,e,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Vr(t,e=3,n=100*1024){const i=ye(t,e);return Va(i)>n?Vr(t,e-1,n):i}function $n(t,e,n=1/0,i=1/0,r=Ya()){const[s,o]=r;if(e===null||["number","boolean","string"].includes(typeof e)&&!Gr(e))return e;const a=qa(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let c=n;if(typeof e.__sentry_override_normalization_depth__=="number"&&(c=e.__sentry_override_normalization_depth__),c===0)return a.replace("object ","");if(s(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return $n("",p,c-1,i,r)}catch{}const d=Array.isArray(e)?[]:{};let l=0;const f=Fr(e);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=i){d[p]="[MaxProperties ~]";break}const _=f[p];d[p]=$n(p,_,c-1,i,r),l++}return o(e),d}function qa(t,e){try{return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&e===global?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":ua(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${De(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${ja(e)}]`}catch(n){return`**non-serializable** (${n})`}}function ja(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function Ha(t){return~-encodeURI(t).split(/%..|./).length}function Va(t){return Ha(JSON.stringify(t))}var he;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})(he||(he={}));function je(t){return new te(e=>{e(t)})}function Zt(t){return new te((e,n)=>{n(t)})}class te{__init(){this._state=he.PENDING}__init2(){this._handlers=[]}constructor(e){te.prototype.__init.call(this),te.prototype.__init2.call(this),te.prototype.__init3.call(this),te.prototype.__init4.call(this),te.prototype.__init5.call(this),te.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new te((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(o){r(o)}},s=>{if(!n)r(s);else try{i(n(s))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new te((n,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init3(){this._resolve=e=>{this._setResult(he.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(he.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===he.PENDING){if(Oe(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===he.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===he.RESOLVED&&n[1](this._value),this._state===he.REJECTED&&n[2](this._value),n[0]=!0)})}}}function za(t){const e=[];function n(){return t===void 0||e.length<t}function i(o){return e.splice(e.indexOf(o),1)[0]}function r(o){if(!n())return Zt(new ee("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a}function s(o){return new te((a,c)=>{let u=e.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(l=>{je(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:e,add:r,drain:s}}function Dn(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function Wa(t){return t.split(/[\?#]/,1)[0]}function en(t){return t.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function Ka(t,e={}){const n=t.method&&t.method.toUpperCase();let i="",r="url";e.customRoute||t.route?(i=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,r="route"):(t.originalUrl||t.url)&&(i=Wa(t.originalUrl||t.url||""));let s="";return e.method&&n&&(s+=n),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),[s,r]}const Xa=["fatal","error","warning","log","info","debug"];function Qa(t){return t==="warn"?"warning":Xa.includes(t)?t:"log"}const zr=Nt(),qn={nowSeconds:()=>Date.now()/1e3};function Ja(){const{performance:t}=zr;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Za(){try{return Te(me,"perf_hooks").performance}catch{return}}const On=ri()?Za():Ja(),Qi=On===void 0?qn:{nowSeconds:()=>(On.timeOrigin+On.now())/1e3},pn=qn.nowSeconds.bind(qn),si=Qi.nowSeconds.bind(Qi),bt=si,He=(()=>{const{performance:t}=zr;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-i):e,u=c<e;return s||u?r<=c?t.timeOrigin:o:i})(),ec=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tc(t){const e=t.match(ec);if(!t||!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function _n(t,e=[]){return[t,e]}function nc(t,e){const[n,i]=t;return[n,[...i,e]]}function Ji(t,e){const n=t[1];for(const i of n){const r=i[0].type;if(e(i,r))return!0}return!1}function jn(t,e){return(e||new TextEncoder).encode(t)}function ic(t,e){const[n,i]=t;let r=JSON.stringify(n);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[jn(r,e),o]:r.push(typeof o=="string"?jn(o,e):o)}for(const o of i){const[a,c]=o;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(ye(c))}s(u)}}return typeof r=="string"?r:rc(r)}function rc(t){const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}function sc(t,e){const n=typeof t.data=="string"?jn(t.data,e):t.data;return[we({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const oc={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function Zi(t){return oc[t]}function Wr(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function ac(t,e,n,i){const r=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:ti(i)},...t.type==="transaction"&&r&&{trace:we({...r})}}}function cc(t,e,n){const i=[{type:"client_report"},{timestamp:n||pn(),discarded_events:t}];return _n(e?{dsn:e}:{},[i])}const uc=60*1e3;function dc(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const i=Date.parse(`${t}`);return isNaN(i)?uc:i-e}function lc(t,e){return t[e]||t.all||0}function fc(t,e,n=Date.now()){return lc(t,e)>n}function pc(t,{statusCode:e,headers:n},i=Date.now()){const r={...t},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u]=a.split(":",2),d=parseInt(c,10),l=(isNaN(d)?60:d)*1e3;if(!u)r.all=i+l;else for(const f of u.split(";"))r[f]=i+l}else o?r.all=i+dc(o,i):e===429&&(r.all=i+60*1e3);return r}const Hn="baggage",Kr="sentry-",_c=/^sentry-/,hc=8192;function gc(t){if(!ke(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((i,r)=>{const s=er(r);return{...i,...s}},{});else{if(!t)return;e=er(t)}const n=Object.entries(e).reduce((i,[r,s])=>{if(r.match(_c)){const o=r.slice(Kr.length);i[o]=s}return i},{});if(Object.keys(n).length>0)return n}function Xr(t){const e=Object.entries(t).reduce((n,[i,r])=>(r&&(n[`${Kr}${i}`]=r),n),{});return mc(e)}function er(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,i])=>(e[n]=i,e),{})}function mc(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,i],r)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(i)}`,o=r===0?s:`${e},${s}`;return o.length>hc?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Not adding key: ${n} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):o},"")}const oi="production";function vc(t){const e=si(),n={sid:Re(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ec(n)};return t&&st(n,t),n}function st(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||si(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Re()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function yc(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),st(t,n)}function Ec(t){return we({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const bc=100;class Ie{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const n=new Ie;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata={...e._sdkProcessingMetadata}),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&st(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof Ie?n:this}return e instanceof Ie?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):it(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){const i=typeof n=="number"?n:bc;if(i<=0)return this;const r={timestamp:pn(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-i),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const i=this._span.transaction&&this._span.transaction.name;i&&(e.tags={transaction:i,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Qr(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,i,r=0){return new te((s,o)=>{const a=e[r];if(n===null||typeof a!="function")s(n);else{const c=a({...n},i);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&c===null&&g.log(`Event processor "${a.id}" dropped event`),Oe(c)?c.then(u=>this._notifyEventProcessors(e,u,i,r+1).then(s)).then(null,o):this._notifyEventProcessors(e,c,i,r+1).then(s).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Jt(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Qr(){return ei("globalEventProcessors",()=>[])}function ai(t){Qr().push(t)}const ci=4,Sc=100;class ui{constructor(e,n=new Ie,i=ci){this._version=i,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=Ie.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:Re(),r=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},o)}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Re(),s=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},a)}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Re();return e.type||(this._lastEventId=i),this._withClient((r,s)=>{r.captureEvent(e,{...n,event_id:i},s)}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Sc}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const c={timestamp:pn(),...e},u=s?Mr(()=>s(c,n)):c;u!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",u,n),i.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=tr(this);try{e(this)}finally{tr(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){return this._callExtensionMethod("startTransaction",e,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&yc(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=oi}=i&&i.getOptions()||{},{userAgent:o}=re.navigator||{},a=vc({release:r,environment:s,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&st(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop();if(!e)return;const i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_withClient(e){const{scope:n,client:i}=this.getStackTop();i&&e(i,n)}_callExtensionMethod(e,...n){const r=ut().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function ut(){return re.__SENTRY__=re.__SENTRY__||{extensions:{},hub:void 0},re}function tr(t){const e=ut(),n=Se(e);return di(e,t),n}function Y(){const t=ut();return(!Jr(t)||Se(t).isOlderThan(ci))&&di(t,new ui),ri()?Tc(t):Se(t)}function Tc(t){try{const e=ut().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Se(t);if(!Jr(n)||Se(n).isOlderThan(ci)){const i=Se(t).getStackTop();di(n,new ui(i.client,Ie.clone(i.scope)))}return Se(n)}catch{return Se(t)}}function Jr(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Se(t){return ei("hub",()=>new ui,t)}function di(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function li(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=Y().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Dt(t){return(t||Y()).getScope().getTransaction()}let nr=!1;function wc(){nr||(nr=!0,ie("error",Vn),ie("unhandledrejection",Vn))}function Vn(){const t=Dt();if(t){const e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Vn.tag="sentry_tracingErrorCallback";class hn{__init(){this.spans=[]}constructor(e=1e3){hn.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class ge{__init2(){this.traceId=Re()}__init3(){this.spanId=Re().substring(16)}__init4(){this.startTimestamp=bt()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(ge.prototype.__init2.call(this),ge.prototype.__init3.call(this),ge.prototype.__init4.call(this),ge.prototype.__init5.call(this),ge.prototype.__init6.call(this),ge.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const n=new ge({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const i=e&&e.op||"< unknown op >",r=n.transaction.name||"< unknown name >",s=n.transaction.spanId,o=`[Tracing] Starting '${i}' span on transaction '${r}' (${s}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},g.log(o)}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const n=Rc(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&g.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:bt()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return we({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return we({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return we({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function Rc(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Qe extends ge{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,n){super(e),Qe.prototype.__init.call(this),Qe.prototype.__init2.call(this),Qe.prototype.__init3.call(this),this._hub=n||Y(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const i=this.metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}setName(e,n="custom"){this._name=e,this.metadata.source=n}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new hn(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);const r=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(s)}toContext(){const e=super.toContext();return we({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||Y(),n=e&&e.getClient();if(!n)return{};const{environment:i,release:r}=n.getOptions()||{},{publicKey:s}=n.getDsn()||{},o=this.metadata.sampleRate,a=o!==void 0?o.toString():void 0,{segment:c}=e.getScope().getUser()||{},u=this.metadata.source,d=u&&u!=="url"?this.name:void 0,l=we({environment:i||oi,release:r,transaction:d,user_segment:c,public_key:s,trace_id:this.traceId,sample_rate:a});return n.emit&&n.emit("createDsc",l),l}setHub(e){this._hub=e}}const Vt={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ic="finishReason",Xe=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Nc extends hn{constructor(e,n,i,r){super(r),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=i}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:bt(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class Ee extends Qe{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=Xe[4]}constructor(e,n,i=Vt.idleTimeout,r=Vt.finalTimeout,s=Vt.heartbeatInterval,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=i,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=o,Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),Ee.prototype.__init5.call(this),Ee.prototype.__init6.call(this),o&&(ir(n),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Xe[3],this.finish())},this._finalTimeout)}finish(e=bt()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Ic,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const i=n.startTimestamp<e;return i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] No active IdleTransaction");return this._onScope&&ir(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=r=>{this._finished||this._pushActivity(r)},i=r=>{this._finished||this._popActivity(r)};this.spanRecorder=new Nc(n,i,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Xe[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Xe[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=bt();this._idleTimeoutCanceledPermanently?(this._finishReason=Xe[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Xe[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function ir(t){const e=t.getScope();e.getTransaction()&&e.setSpan(void 0)}function kc(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function Zr(t,e,n){if(!li(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setMetadata({sampleRate:Number(i)})):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setMetadata({sampleRate:Number(i)})):(i=1,t.setMetadata({sampleRate:i})),Dc(i)?i?(t.sampled=Math.random()<i,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Dc(t){return Gr(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function Oc(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let o=new Qe(t,this);return o=Zr(o,i,{parentSampled:t.parentSampled,transactionContext:t,...e}),o.sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function rr(t,e,n,i,r,s,o){const a=t.getClient(),c=a&&a.getOptions()||{};let u=new Ee(e,t,n,i,o,r);return u=Zr(u,c,{parentSampled:e.parentSampled,transactionContext:e,...s}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function es(){const t=ut();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Oc),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=kc),wc())}function Uc(t,e){return Y().captureException(t,{captureContext:e})}function Ac(t){Y().withScope(t)}const xc="7";function Pc(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Bc(t){return`${Pc(t)}${t.projectId}/envelope/`}function Cc(t,e){return ba({sentry_key:t.publicKey,sentry_version:xc,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Gc(t,e={}){const n=typeof e=="string"?e:e.tunnel,i=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Bc(t)}?${Cc(t,i)}`}function Lc(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Mc(t,e,n,i){const r=Wr(n),s={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!i&&{dsn:ti(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return _n(s,[o])}function Yc(t,e,n,i){const r=Wr(n),s=t.type&&t.type!=="replay_event"?t.type:"event";Lc(t,n&&n.sdk);const o=ac(t,r,i,e);return delete t.sdkProcessingMetadata,_n(o,[[{type:s},t]])}const sr=[];function Fc(t){const e={};return t.forEach(n=>{const{name:i}=n,r=e[i];r&&!r.isDefaultInstance&&n.isDefaultInstance||(e[i]=n)}),Object.keys(e).map(n=>e[n])}function $c(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let i;Array.isArray(n)?i=[...e,...n]:typeof n=="function"?i=Jt(n(e)):i=e;const r=Fc(i),s=jc(r,o=>o.name==="Debug");if(s!==-1){const[o]=r.splice(s,1);r.push(o)}return r}function qc(t){const e={};return t.forEach(n=>{n&&ts(n,e)}),e}function ts(t,e){e[t.name]=t,sr.indexOf(t.name)===-1&&(t.setupOnce(ai,Y),sr.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`Integration installed: ${t.name}`))}function jc(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function Hc(t,e,n,i){const{normalizeDepth:r=3,normalizeMaxBreadth:s=1e3}=t,o={...e,event_id:e.event_id||n.event_id||Re(),timestamp:e.timestamp||pn()},a=n.integrations||t.integrations.map(d=>d.name);Vc(o,t),Wc(o,a),zc(o,t.stackParser);let c=i;n.captureContext&&(c=Ie.clone(c).update(n.captureContext));let u=je(o);if(c){if(c.getAttachments){const d=[...n.attachments||[],...c.getAttachments()];d.length&&(n.attachments=d)}u=c.applyToEvent(o,n)}return u.then(d=>typeof r=="number"&&r>0?Kc(d,r,s):d)}function Vc(t,e){const{environment:n,release:i,dist:r,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?n:oi),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&r!==void 0&&(t.dist=r),t.message&&(t.message=gt(t.message,s));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=gt(o.value,s));const a=t.request;a&&a.url&&(a.url=gt(a.url,s))}function zc(t,e){const n=re._sentryDebugIds;if(!n)return;const i=Object.keys(n).reduce((o,a)=>{const c=e(a);for(const u of c)if(u.filename){o[u.filename]=n[a];break}return o},{}),r=new Set;try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&r.add(a.filename)})})}catch{}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const s=t.debug_meta.images;r.forEach(o=>{i[o]&&s.push({type:"sourcemap",code_file:o,debug_id:i[o]})})}function Wc(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Kc(t,e,n){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(r=>({...r,...r.data&&{data:ye(r.data,e,n)}}))},...t.user&&{user:ye(t.user,e,n)},...t.contexts&&{contexts:ye(t.contexts,e,n)},...t.extra&&{extra:ye(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=ye(t.contexts.trace.data,e,n))),t.spans&&(i.spans=t.spans.map(r=>(r.data&&(r.data=ye(r.data,e,n)),r))),i}const or="Not capturing exception because it's already been captured.";class Fe{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(Fe.prototype.__init.call(this),Fe.prototype.__init2.call(this),Fe.prototype.__init3.call(this),Fe.prototype.__init4.call(this),Fe.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=va(e.dsn);const n=Gc(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("No DSN provided, client will not do anything.")}captureException(e,n,i){if(Xi(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(or);return}let r=n&&n.event_id;return this._process(this.eventFromException(e,n).then(s=>this._captureEvent(s,n,i)).then(s=>{r=s})),r}captureMessage(e,n,i,r){let s=i&&i.event_id;const o=Br(e)?this.eventFromMessage(String(e),n,i):this.eventFromException(e,i);return this._process(o.then(a=>this._captureEvent(a,i,r)).then(a=>{s=a})),s}captureEvent(e,n,i){if(n&&n.originalException&&Xi(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(or);return}let r=n&&n.event_id;return this._process(this._captureEvent(e,n,i).then(s=>{r=s})),r}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),st(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(i=>n.flush(e).then(r=>i&&r)):je(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=qc(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){ts(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let i=Yc(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])i=nc(i,sc(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",e,s),null)}}sendSession(e){if(this._dsn){const n=Mc(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,i){if(this._options.sendClientReports){const r=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(i=>i(...n))}_updateSessionFromEvent(e,n){let i=!1,r=!1;const s=n.exception&&n.exception.values;if(s){r=!0;for(const c of s){const u=c.mechanism;if(u&&u.handled===!1){i=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&i)&&(st(e,{...i&&{status:"crashed"},errors:e.errors||Number(r||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new te(n=>{let i=0;const r=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(i+=r,e&&i>=e&&(clearInterval(s),n(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,i){const r=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),Hc(r,e,n,i)}_captureEvent(e,n={},i){return this._processEvent(e,n,i).then(r=>r.event_id,r=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const s=r;s.logLevel==="log"?g.log(s.message):g.warn(s)}})}_processEvent(e,n,i){const r=this.getOptions(),{sampleRate:s}=r;if(!this._isEnabled())return Zt(new ee("SDK not enabled, will not capture event.","log"));const o=is(e),a=ns(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),Zt(new ee(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=c==="replay_event"?"replay":c;return this._prepareEvent(e,n,i).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",d,e),new ee("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return l;const p=Qc(r,l,n);return Xc(p,u)}).then(l=>{if(l===null)throw this.recordDroppedEvent("before_send",d,e),new ee(`${u} returned \`null\`, will not send event.`,"log");const f=i&&i.getSession();!o&&f&&this._updateSessionFromEvent(f,l);const p=l.transaction_info;if(o&&p&&l.transaction!==e.transaction){const _="custom";l.transaction_info={...p,source:_}}return this.sendEvent(l,n),l}).then(null,l=>{throw l instanceof ee?l:(this.captureException(l,{data:{__sentry__:!0},originalException:l}),new ee(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[i,r]=n.split(":");return{reason:i,category:r,quantity:e[n]}})}}function Xc(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Oe(t))return t.then(i=>{if(!it(i)&&i!==null)throw new ee(n);return i},i=>{throw new ee(`${e} rejected with ${i}`)});if(!it(t)&&t!==null)throw new ee(n);return t}function Qc(t,e,n){const{beforeSend:i,beforeSendTransaction:r}=t;return ns(e)&&i?i(e,n):is(e)&&r?r(e,n):e}function ns(t){return t.type===void 0}function is(t){return t.type==="transaction"}function Jc(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?g.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=Y();n.getScope().update(e.initialScope);const r=new t(e);n.bindClient(r)}const Zc=30;function rs(t,e,n=za(t.bufferSize||Zc)){let i={};const r=o=>n.drain(o);function s(o){const a=[];if(Ji(o,(l,f)=>{const p=Zi(f);if(fc(i,p)){const _=ar(l,f);t.recordDroppedEvent("ratelimit_backoff",p,_)}else a.push(l)}),a.length===0)return je();const c=_n(o[0],a),u=l=>{Ji(c,(f,p)=>{const _=ar(f,p);t.recordDroppedEvent(l,Zi(p),_)})},d=()=>e({body:ic(c,t.textEncoder)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),i=pc(i,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof ee)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),je();throw l})}return s.__sentry__baseTransport__=!0,{send:s,flush:r}}function ar(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const cr="7.46.0";let ur;class St{constructor(){St.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=St.id}setupOnce(){ur=Function.prototype.toString,Function.prototype.toString=function(...e){const n=ii(this)||this;return ur.apply(n,e)}}}St.__initStatic();const eu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Je{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Je.id}constructor(e={}){this._options=e,Je.prototype.__init.call(this)}setupOnce(e,n){const i=r=>{const s=n();if(s){const o=s.getIntegration(Je);if(o){const a=s.getClient(),c=a?a.getOptions():{},u=tu(o._options,c);return nu(r,u)?null:r}}return r};i.id=this.name,e(i)}}Je.__initStatic();function tu(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...eu],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function nu(t,e){return e.ignoreInternal&&cu(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Event dropped due to being internal Sentry Error.
Event: ${be(t)}`),!0):iu(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${be(t)}`),!0):ru(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${be(t)}`),!0):su(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${be(t)}.
Url: ${tn(t)}`),!0):ou(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${be(t)}.
Url: ${tn(t)}`),!0)}function iu(t,e){return t.type||!e||!e.length?!1:au(t).some(n=>kt(n,e))}function ru(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?kt(n,e):!1}function su(t,e){if(!e||!e.length)return!1;const n=tn(t);return n?kt(n,e):!1}function ou(t,e){if(!e||!e.length)return!0;const n=tn(t);return n?kt(n,e):!0}function au(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error(`Cannot extract message for event ${be(t)}`),[]}return[]}function cu(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function uu(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function tn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?uu(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error(`Cannot extract url for event ${be(t)}`),null}}const A=re;let zn=0;function ss(){return zn>0}function du(){zn++,setTimeout(()=>{zn--})}function ot(t,e={},n){if(typeof t!="function")return t;try{const r=t.__sentry_wrapped__;if(r)return r;if(ii(t))return t}catch{return t}const i=function(){const r=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=r.map(o=>ot(o,e));return t.apply(this,s)}catch(s){throw du(),Ac(o=>{o.addEventProcessor(a=>(e.mechanism&&(Fn(a,void 0,void 0),Et(a,e.mechanism)),a.extra={...a.extra,arguments:r},a)),Uc(s)}),s}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}catch{}Yr(i,t),ni(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}function os(t,e){const n=fi(t,e),i={type:e&&e.name,value:_u(e)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function lu(t,e,n,i){const s=Y().getClient(),o=s&&s.getOptions().normalizeDepth,a={exception:{values:[{type:Zn(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${Sa(e)}`}]},extra:{__serialized__:Vr(e,o)}};if(n){const c=fi(t,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function Un(t,e){return{exception:{values:[os(t,e)]}}}function fi(t,e){const n=e.stacktrace||e.stack||"",i=pu(e);try{return t(n,i)}catch{}return[]}const fu=/Minified React error #\d+;/i;function pu(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(fu.test(t.message))return 1}return 0}function _u(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function hu(t,e,n,i){const r=n&&n.syntheticException||void 0,s=pi(t,e,r,i);return Et(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),je(s)}function gu(t,e,n="info",i,r){const s=i&&i.syntheticException||void 0,o=Wn(t,e,s,r);return o.level=n,i&&i.event_id&&(o.event_id=i.event_id),je(o)}function pi(t,e,n,i,r){let s;if(Pr(e)&&e.error)return Un(t,e.error);if($i(e)||aa(e)){const o=e;if("stack"in e)s=Un(t,e);else{const a=o.name||($i(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;s=Wn(t,c,n,i),Fn(s,c)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return xr(e)?Un(t,e):it(e)||Zn(e)?(s=lu(t,e,n,r),Et(s,{synthetic:!0}),s):(s=Wn(t,e,n,i),Fn(s,`${e}`,void 0),Et(s,{synthetic:!0}),s)}function Wn(t,e,n,i){const r={message:e};if(i&&n){const s=fi(t,n);s.length&&(r.exception={values:[{value:e,stacktrace:{frames:s}}]})}return r}const Ft=1024,as="Breadcrumbs";class Tt{static __initStatic(){this.id=as}__init(){this.name=Tt.id}constructor(e){Tt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&ie("console",vu),this.options.dom&&ie("dom",mu(this.options.dom)),this.options.xhr&&ie("xhr",yu),this.options.fetch&&ie("fetch",Eu),this.options.history&&ie("history",bu)}addSentryBreadcrumb(e){this.options.sentry&&Y().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:be(e)},{event:e})}}Tt.__initStatic();function mu(t){function e(n){let i,r=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Ft&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`\`dom.maxStringLength\` cannot exceed ${Ft}, but a value of ${s} was configured. Sentry will use ${Ft} instead.`),s=Ft),typeof r=="string"&&(r=[r]);try{const o=n.event;i=Su(o)?rt(o.target,{keyAttrs:r,maxStringLength:s}):rt(o,{keyAttrs:r,maxStringLength:s})}catch{i="<unknown>"}i.length!==0&&Y().addBreadcrumb({category:`ui.${n.name}`,message:i},{event:n.event,name:n.name,global:n.global})}return e}function vu(t){for(let n=0;n<t.args.length;n++)if(t.args[n]==="ref=Ref<"){t.args[n+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:Qa(t.level),message:ji(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${ji(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;Y().addBreadcrumb(e,{input:t.args,level:t.level})}function yu(t){const{startTimestamp:e,endTimestamp:n}=t;if(!e||!n||!t.xhr.__sentry_xhr__)return;const{method:i,url:r,status_code:s,body:o}=t.xhr.__sentry_xhr__,a={method:i,url:r,status_code:s},c={xhr:t.xhr,input:o,startTimestamp:e,endTimestamp:n};Y().addBreadcrumb({category:"xhr",data:a,type:"http"},c)}function Eu(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const i=t.fetchData,r={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};Y().addBreadcrumb({category:"fetch",data:i,level:"error",type:"http"},r)}else{const i={...t.fetchData,status_code:t.response&&t.response.status},r={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};Y().addBreadcrumb({category:"fetch",data:i,type:"http"},r)}}function bu(t){let e=t.from,n=t.to;const i=Dn(A.location.href);let r=Dn(e);const s=Dn(n);r.path||(r=i),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),i.protocol===r.protocol&&i.host===r.host&&(e=r.relative),Y().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function Su(t){return t&&!!t.target}class Tu extends Fe{constructor(e){const n=A.SENTRY_SDK_SOURCE||$a();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:cr}],version:cr},super(e),e.sendClientReports&&A.document&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return hu(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",i){return gu(this._options.stackParser,e,n,i,this._options.attachStacktrace)}sendEvent(e,n){const i=this.getIntegrationById(as);i&&i.addSentryBreadcrumb&&i.addSentryBreadcrumb(e),super.sendEvent(e,n)}_prepareEvent(e,n,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,i)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Sending outcomes:",e);const n=cc(e,this._options.tunnel&&ti(this._dsn));this._sendEnvelope(n)}}let _t;function wu(){if(_t)return _t;if(Yn(A.fetch))return _t=A.fetch.bind(A);const t=A.document;let e=A.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const i=n.contentWindow;i&&i.fetch&&(e=i.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return _t=e.bind(A)}function Ru(){_t=void 0}function Iu(t,e=wu()){let n=0,i=0;function r(s){const o=s.body.length;n+=o,i++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&i<15,...t.fetchOptions};try{return e(t.url,a).then(c=>(n-=o,i--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ru(),n-=o,i--,Zt(c)}}return rs(t,r)}const Nu=4;function ku(t){function e(n){return new te((i,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===Nu&&i({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(const o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&s.setRequestHeader(o,t.headers[o]);s.send(n.body)})}return rs(t,e)}const gn="?",Du=30,Ou=40,Uu=50;function _i(t,e,n,i){const r={filename:t,function:e,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}const Au=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xu=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pu=t=>{const e=Au.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const s=xu.exec(e[2]);s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3])}const[i,r]=cs(e[1]||gn,e[2]);return _i(r,i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Bu=[Du,Pu],Cu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Gu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Lu=t=>{const e=Cu.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=Gu.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let i=e[3],r=e[1]||gn;return[r,i]=cs(r,i),_i(i,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Mu=[Uu,Lu],Yu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Fu=t=>{const e=Yu.exec(t);return e?_i(e[2],e[1]||gn,+e[3],e[4]?+e[4]:void 0):void 0},$u=[Ou,Fu],qu=[Bu,Mu,$u],ju=qr(...qu),cs=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:gn,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class Ne{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Ne.id}__init2(){this._installFunc={onerror:Hu,onunhandledrejection:Vu}}constructor(e){Ne.prototype.__init.call(this),Ne.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const i=this._installFunc[n];i&&e[n]&&(Ku(n),i(),this._installFunc[n]=void 0)}}}Ne.__initStatic();function Hu(){ie("error",t=>{const[e,n,i]=ls();if(!e.getIntegration(Ne))return;const{msg:r,url:s,line:o,column:a,error:c}=t;if(ss()||c&&c.__sentry_own_request__)return;const u=c===void 0&&ke(r)?Wu(r,s,o,a):us(pi(n,c||r,void 0,i,!1),s,o,a);u.level="error",ds(e,c,u,"onerror")})}function Vu(){ie("unhandledrejection",t=>{const[e,n,i]=ls();if(!e.getIntegration(Ne))return;let r=t;try{"reason"in t?r=t.reason:"detail"in t&&"reason"in t.detail&&(r=t.detail.reason)}catch{}if(ss()||r&&r.__sentry_own_request__)return!0;const s=Br(r)?zu(r):pi(n,r,void 0,i,!0);s.level="error",ds(e,r,s,"onunhandledrejection")})}function zu(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Wu(t,e,n,i){const r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Pr(t)?t.message:t,o="Error";const a=s.match(r);return a&&(o=a[1],s=a[2]),us({exception:{values:[{type:o,value:s}]}},e,n,i)}function us(t,e,n,i){const r=t.exception=t.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(i,10))?void 0:i,d=isNaN(parseInt(n,10))?void 0:n,l=ke(e)&&e.length>0?e:fa();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),t}function Ku(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`Global Handler attached: ${t}`)}function ds(t,e,n,i){Et(n,{handled:!1,type:i}),t.captureEvent(n,{originalException:e})}function ls(){const t=Y(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const Xu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class wt{static __initStatic(){this.id="TryCatch"}__init(){this.name=wt.id}constructor(e){wt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&M(A,"setTimeout",dr),this._options.setInterval&&M(A,"setInterval",dr),this._options.requestAnimationFrame&&M(A,"requestAnimationFrame",Qu),this._options.XMLHttpRequest&&"XMLHttpRequest"in A&&M(XMLHttpRequest.prototype,"send",Ju);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Xu).forEach(Zu)}}wt.__initStatic();function dr(t){return function(...e){const n=e[0];return e[0]=ot(n,{mechanism:{data:{function:De(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Qu(t){return function(e){return t.apply(this,[ot(e,{mechanism:{data:{function:"requestAnimationFrame",handler:De(t)},handled:!0,type:"instrument"}})])}}function Ju(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&M(n,r,function(s){const o={mechanism:{data:{function:r,handler:De(s)},handled:!0,type:"instrument"}},a=ii(s);return a&&(o.mechanism.data.handler=De(a)),ot(s,o)})}),t.apply(this,e)}}function Zu(t){const e=A,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(M(n,"addEventListener",function(i){return function(r,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=ot(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:De(s),target:t},handled:!0,type:"instrument"}}))}catch{}return i.apply(this,[r,ot(s,{mechanism:{data:{function:"addEventListener",handler:De(s),target:t},handled:!0,type:"instrument"}}),o])}}),M(n,"removeEventListener",function(i){return function(r,s,o){const a=s;try{const c=a&&a.__sentry_wrapped__;c&&i.call(this,r,c,o)}catch{}return i.call(this,r,a,o)}}))}const ed="cause",td=5;class Ze{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Ze.id}constructor(e={}){Ze.prototype.__init.call(this),this._key=e.key||ed,this._limit=e.limit||td}setupOnce(){const e=Y().getClient();e&&ai((n,i)=>{const r=Y().getIntegration(Ze);return r?nd(e.getOptions().stackParser,r._key,r._limit,n,i):n})}}Ze.__initStatic();function nd(t,e,n,i,r){if(!i.exception||!i.exception.values||!r||!pe(r.originalException,Error))return i;const s=fs(t,n,r.originalException,e);return i.exception.values=[...s,...i.exception.values],i}function fs(t,e,n,i,r=[]){if(!pe(n[i],Error)||r.length+1>=e)return r;const s=os(t,n[i]);return fs(t,e,n[i],i,[s,...r])}class et{constructor(){et.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=et.id}setupOnce(){ai(e=>{if(Y().getIntegration(et)){if(!A.navigator&&!A.location&&!A.document)return e;const n=e.request&&e.request.url||A.location&&A.location.href,{referrer:i}=A.document||{},{userAgent:r}=A.navigator||{},s={...e.request&&e.request.headers,...i&&{Referer:i},...r&&{"User-Agent":r}},o={...e.request,...n&&{url:n},headers:s};return{...e,request:o}}return e})}}et.__initStatic();class tt{constructor(){tt.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=tt.id}setupOnce(e,n){const i=r=>{if(r.type)return r;const s=n().getIntegration(tt);if(s){try{if(id(r,s._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return s._previousEvent=r}return s._previousEvent=r}return r};i.id=this.name,e(i)}}tt.__initStatic();function id(t,e){return e?!!(rd(t,e)||sd(t,e)):!1}function rd(t,e){const n=t.message,i=e.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!_s(t,e)||!ps(t,e))}function sd(t,e){const n=lr(e),i=lr(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!_s(t,e)||!ps(t,e))}function ps(t,e){let n=fr(t),i=fr(e);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(let r=0;r<i.length;r++){const s=i[r],o=n[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function _s(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}}function lr(t){return t.exception&&t.exception.values&&t.exception.values[0]}function fr(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const od=[new Je,new St,new wt,new Tt,new Ne,new Ze,new tt,new et];function ad(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=od),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),A.SENTRY_RELEASE&&A.SENTRY_RELEASE.id&&(t.release=A.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:Ta(t.stackParser||ju),integrations:$c(t),transport:t.transport||(jr()?Iu:ku)};Jc(Tu,e),t.autoSessionTracking&&cd()}function pr(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function cd(){if(typeof A.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=Y();t.captureSession&&(pr(t),ie("history",({from:e,to:n})=>{e===void 0||e===n||pr(Y())}))}function w(t){let e,n=t[0],i=1;for(;i<t.length;){const r=t[i],s=t[i+1];if(i+=2,(r==="optionalAccess"||r==="optionalCall")&&n==null)return;r==="access"||r==="optionalAccess"?(e=n,n=s(n)):(r==="call"||r==="optionalCall")&&(n=s((...o)=>n.call(e,...o)),e=void 0)}return n}function Ve(t){const e=w([t,"call",i=>i(),"access",i=>i.getClient,"call",i=>i(),"optionalAccess",i=>i.getOptions,"call",i=>i()]);return(w([e,"optionalAccess",i=>i.instrumenter])||"sentry")!=="sentry"}class nn{static __initStatic(){this.id="Express"}__init(){this.name=nn.id}constructor(e={}){nn.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,n){if(!this._router){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("ExpressIntegration is missing an Express instance");return}if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Express Integration is skipped because of instrumenter configuration.");return}ld(this._router,this._methods),fd(this._router)}}nn.__initStatic();function _r(t,e){const n=t.length;switch(n){case 2:return function(i,r){const s=r.__sentry_transaction;if(s){const o=s.startChild({description:t.name,op:`middleware.express.${e}`});r.once("finish",()=>{o.finish()})}return t.call(this,i,r)};case 3:return function(i,r,s){const o=r.__sentry_transaction,a=w([o,"optionalAccess",c=>c.startChild,"call",c=>c({description:t.name,op:`middleware.express.${e}`})]);t.call(this,i,r,function(...c){w([a,"optionalAccess",u=>u.finish,"call",u=>u()]),s.call(this,...c)})};case 4:return function(i,r,s,o){const a=s.__sentry_transaction,c=w([a,"optionalAccess",u=>u.startChild,"call",u=>u({description:t.name,op:`middleware.express.${e}`})]);t.call(this,i,r,s,function(...u){w([c,"optionalAccess",d=>d.finish,"call",d=>d()]),o.call(this,...u)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}function ud(t,e){return t.map(n=>typeof n=="function"?_r(n,e):Array.isArray(n)?n.map(i=>typeof i=="function"?_r(i,e):i):n)}function dd(t,e){const n=t[e];return t[e]=function(...i){return n.call(this,...ud(i,e))},t}function ld(t,e=[]){e.forEach(n=>dd(t,n))}function fd(t){const e="settings"in t;e&&t._router===void 0&&t.lazyrouter&&t.lazyrouter();const n=e?t._router:t;if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.debug("Routing instrumentation is currently only supported in Express 4.");return}const i=Object.getPrototypeOf(n),r=i.process_params;i.process_params=function(o,a,c,u,d){c._reconstructedRoute||(c._reconstructedRoute="");const{layerRoutePath:l,isRegex:f,isArray:p,numExtraSegments:_}=pd(o);(l||f||p)&&(c._hasParameters=!0);const m=(l||o.path||"").split("/").filter(v=>v.length>0&&(f||p||!v.includes("*"))).join("/");m&&m.length>0&&(c._reconstructedRoute+=`/${m}${f?"/":""}`);const T=en(c.originalUrl||"")+_,P=en(c._reconstructedRoute);if(T===P){c._hasParameters||c._reconstructedRoute!==c.originalUrl&&(c._reconstructedRoute=c.originalUrl);const v=u.__sentry_transaction;if(v&&v.metadata.source!=="custom"){const y=c._reconstructedRoute||"/";v.setName(...Ka(c,{path:!0,method:!0,customRoute:y}))}}return r.call(this,o,a,c,u,d)}}function pd(t){const e=w([t,"access",o=>o.route,"optionalAccess",o=>o.path]),n=Cr(e),i=Array.isArray(e);if(!e)return{isRegex:n,isArray:i,numExtraSegments:0};const r=i?Math.max(_d(e)-en(t.path||""),0):0;return{layerRoutePath:hd(i,e),isRegex:n,isArray:i,numExtraSegments:r}}function _d(t){return t.reduce((e,n)=>e+en(n.toString()),0)}function hd(t,e){return t?e.map(n=>n.toString()).join(","):e&&e.toString()}class rn{static __initStatic(){this.id="Postgres"}__init(){this.name=rn.id}constructor(e={}){rn.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||qe("pg")}setupOnce(e,n){if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Postgres Integration is skipped because of instrumenter configuration.");return}const i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!w([i,"access",s=>s.native,"optionalAccess",s=>s.Client])){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Postgres Integration was unable to access 'pg-native' bindings.");return}const{Client:r}=this._usePgNative?i.native:i;M(r.prototype,"query",function(s){return function(o,a,c){const u=n().getScope(),d=w([u,"optionalAccess",p=>p.getSpan,"call",p=>p()]),l=w([d,"optionalAccess",p=>p.startChild,"call",p=>p({description:typeof o=="string"?o:o.text,op:"db"})]);if(typeof c=="function")return s.call(this,o,a,function(p,_){w([l,"optionalAccess",h=>h.finish,"call",h=>h()]),c(p,_)});if(typeof a=="function")return s.call(this,o,function(p,_){w([l,"optionalAccess",h=>h.finish,"call",h=>h()]),a(p,_)});const f=typeof a<"u"?s.call(this,o,a):s.call(this,o);return Oe(f)?f.then(p=>(w([l,"optionalAccess",_=>_.finish,"call",_=>_()]),p)):(w([l,"optionalAccess",p=>p.finish,"call",p=>p()]),f)}})}}rn.__initStatic();class sn{constructor(){sn.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=sn.id}loadDependency(){return this._module=this._module||qe("mysql/lib/Connection.js")}setupOnce(e,n){if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Mysql Integration is skipped because of instrumenter configuration.");return}const i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Mysql Integration was unable to require `mysql` package.");return}M(i,"createQuery",function(r){return function(s,o,a){const c=n().getScope(),u=w([c,"optionalAccess",l=>l.getSpan,"call",l=>l()]),d=w([u,"optionalAccess",l=>l.startChild,"call",l=>l({description:typeof s=="string"?s:s.sql,op:"db"})]);return typeof a=="function"?r.call(this,s,o,function(l,f,p){w([d,"optionalAccess",_=>_.finish,"call",_=>_()]),a(l,f,p)}):typeof o=="function"?r.call(this,s,function(l,f,p){w([d,"optionalAccess",_=>_.finish,"call",_=>_()]),o(l,f,p)}):r.call(this,s,o,a)}})}}sn.__initStatic();const gd=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],md={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function vd(t){return t&&typeof t=="object"&&t.once&&typeof t.once=="function"}class on{static __initStatic(){this.id="Mongo"}__init(){this.name=on.id}constructor(e={}){on.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:gd,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){const e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||qe(e)}setupOnce(e,n){if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Mongo Integration is skipped because of instrumenter configuration.");return}const i=this.loadDependency();if(!i){const r=this._useMongoose?"mongoose":"mongodb";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error(`Mongo Integration was unable to require \`${r}\` package.`);return}this._instrumentOperations(i.Collection,this._operations,n)}_instrumentOperations(e,n,i){n.forEach(r=>this._patchOperation(e,r,i))}_patchOperation(e,n,i){if(!(n in e.prototype))return;const r=this._getSpanContextFromOperationArguments.bind(this);M(e.prototype,n,function(s){return function(...o){const a=o[o.length-1],c=i().getScope(),u=w([c,"optionalAccess",l=>l.getSpan,"call",l=>l()]);if(typeof a!="function"||n==="mapReduce"&&o.length===2){const l=w([u,"optionalAccess",p=>p.startChild,"call",p=>p(r(this,n,o))]),f=s.call(this,...o);if(Oe(f))return f.then(p=>(w([l,"optionalAccess",_=>_.finish,"call",_=>_()]),p));if(vd(f)){const p=f;try{p.once("close",()=>{w([l,"optionalAccess",_=>_.finish,"call",_=>_()])})}catch{w([l,"optionalAccess",h=>h.finish,"call",h=>h()])}return p}else return w([l,"optionalAccess",p=>p.finish,"call",p=>p()]),f}const d=w([u,"optionalAccess",l=>l.startChild,"call",l=>l(r(this,n,o.slice(0,-1)))]);return s.call(this,...o.slice(0,-1),function(l,f){w([d,"optionalAccess",p=>p.finish,"call",p=>p()]),a(l,f)})}})}_getSpanContextFromOperationArguments(e,n,i){const r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:n,data:r},o=md[n],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!o||!a)return s;try{if(n==="mapReduce"){const[c,u]=i;r[o[0]]=typeof c=="string"?c:c.name||"<anonymous>",r[o[1]]=typeof u=="string"?u:u.name||"<anonymous>"}else for(let c=0;c<o.length;c++)r[o[c]]=JSON.stringify(i[c])}catch{}return s}}on.__initStatic();function yd(t){return t&&!!t.$use}class an{static __initStatic(){this.id="Prisma"}__init(){this.name=an.id}constructor(e={}){an.prototype.__init.call(this),yd(e.client)?this._client=e.client:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,n){if(!this._client){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("PrismaIntegration is missing a Prisma Client Instance");return}if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Prisma Integration is skipped because of instrumenter configuration.");return}this._client.$use((i,r)=>{const s=n().getScope(),o=w([s,"optionalAccess",l=>l.getSpan,"call",l=>l()]),a=i.action,c=i.model,u=w([o,"optionalAccess",l=>l.startChild,"call",l=>l({description:c?`${c} ${a}`:a,op:"db.sql.prisma"})]),d=r(i);return Oe(d)?d.then(l=>(w([u,"optionalAccess",f=>f.finish,"call",f=>f()]),l)):(w([u,"optionalAccess",l=>l.finish,"call",l=>l()]),d)})}}an.__initStatic();class cn{constructor(){cn.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=cn.id}loadDependency(){return this._module=this._module||qe("graphql/execution/execute.js")}setupOnce(e,n){if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("GraphQL Integration is skipped because of instrumenter configuration.");return}const i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("GraphQL Integration was unable to require graphql/execution package.");return}M(i,"execute",function(r){return function(...s){const o=n().getScope(),a=w([o,"optionalAccess",d=>d.getSpan,"call",d=>d()]),c=w([a,"optionalAccess",d=>d.startChild,"call",d=>d({description:"execute",op:"graphql.execute"})]);w([o,"optionalAccess",d=>d.setSpan,"call",d=>d(c)]);const u=r.call(this,...s);return Oe(u)?u.then(d=>(w([c,"optionalAccess",l=>l.finish,"call",l=>l()]),w([o,"optionalAccess",l=>l.setSpan,"call",l=>l(a)]),d)):(w([c,"optionalAccess",d=>d.finish,"call",d=>d()]),w([o,"optionalAccess",d=>d.setSpan,"call",d=>d(a)]),u)}})}}cn.__initStatic();class un{static __initStatic(){this.id="Apollo"}__init(){this.name=un.id}constructor(e={useNestjs:!1}){un.prototype.__init.call(this),this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||qe("@nestjs/graphql"):this._module=this._module||qe("apollo-server-core"),this._module}setupOnce(e,n){if(Ve(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){const i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}M(i.GraphQLFactory.prototype,"mergeWithSchema",function(r){return function(...s){return M(this.resolversExplorerService,"explore",function(o){return function(){const a=Jt(o.call(this));return hr(a,n)}}),r.call(this,...s)}})}else{const i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.error("Apollo Integration was unable to require apollo-server-core package.");return}M(i.ApolloServerBase.prototype,"constructSchema",function(r){return function(){if(!this.config.resolvers)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this.config.schema?(g.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),g.warn()):this.config.modules&&g.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),g.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),r.call(this);const s=Jt(this.config.resolvers);return this.config.resolvers=hr(s,n),r.call(this)}})}}}un.__initStatic();function hr(t,e){return t.map(n=>(Object.keys(n).forEach(i=>{Object.keys(n[i]).forEach(r=>{typeof n[i][r]=="function"&&Ed(n,i,r,e)})}),n))}function Ed(t,e,n,i){M(t[e],n,function(r){return function(...s){const o=i().getScope(),a=w([o,"optionalAccess",d=>d.getSpan,"call",d=>d()]),c=w([a,"optionalAccess",d=>d.startChild,"call",d=>d({description:`${e}.${n}`,op:"graphql.resolve"})]),u=r.call(this,...s);return Oe(u)?u.then(d=>(w([c,"optionalAccess",l=>l.finish,"call",l=>l()]),d)):(w([c,"optionalAccess",d=>d.finish,"call",d=>d()]),u)}})}const x=re;function bd(){x&&x.document?x.document.addEventListener("visibilitychange",()=>{const t=Dt();if(x.document.hidden&&t){const e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const hi=(t,e,n)=>{let i,r;return s=>{e.value>=0&&(s||n)&&(r=e.value-(i||0),(r||i===void 0)&&(i=e.value,e.delta=r,t(e)))}},Sd=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Td=()=>{const t=x.performance.timing,e=x.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const i in t)i!=="navigationStart"&&i!=="toJSON"&&(n[i]=Math.max(t[i]-t.navigationStart,0));return n},hs=()=>x.__WEB_VITALS_POLYFILL__?x.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Td()):x.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],gs=()=>{const t=hs();return t&&t.activationStart||0},gi=(t,e)=>{const n=hs();let i="navigate";return n&&(x.document.prerendering||gs()>0?i="prerender":i=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Sd(),navigationType:i}},Ot=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(r=>{e(r.getEntries())});return i.observe(Object.assign({type:t,buffered:!0},n||{})),i}}catch{}},mn=(t,e)=>{const n=i=>{(i.type==="pagehide"||x.document.visibilityState==="hidden")&&(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},wd=t=>{const e=gi("CLS",0);let n,i=0,r=[];const s=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=r[0],d=r[r.length-1];i&&r.length!==0&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,r.push(c)):(i=c.value,r=[c]),i>e.value&&(e.value=i,e.entries=r,n&&n())}})},o=Ot("layout-shift",s);if(o){n=hi(t,e);const a=()=>{s(o.takeRecords()),n(!0)};return mn(a),a}};let zt=-1;const Rd=()=>x.document.visibilityState==="hidden"&&!x.document.prerendering?0:1/0,Id=()=>{mn(({timeStamp:t})=>{zt=t},!0)},mi=()=>(zt<0&&(zt=Rd(),Id()),{get firstHiddenTime(){return zt}}),Nd=t=>{const e=mi(),n=gi("FID");let i;const r=a=>{a.startTime<e.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),i(!0))},s=a=>{a.forEach(r)},o=Ot("first-input",s);i=hi(t,n),o&&mn(()=>{s(o.takeRecords()),o.disconnect()},!0)},gr={},kd=t=>{const e=mi(),n=gi("LCP");let i;const r=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-gs(),0);c<e.firstHiddenTime&&(n.value=c,n.entries=[a],i())}},s=Ot("largest-contentful-paint",r);if(s){i=hi(t,n);const o=()=>{gr[n.id]||(r(s.takeRecords()),s.disconnect(),gr[n.id]=!0,i(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),mn(o,!0),o}};function An(t){return typeof t=="number"&&isFinite(t)}function at(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function W(t){return t/1e3}function ms(){return x&&x.addEventListener&&x.performance}let mr=0,F={},fe,vt;function Dd(){const t=ms();if(t&&He){t.mark&&x.performance.mark("sentry-tracing-init"),Pd();const e=Ad(),n=xd();return()=>{e&&e(),n&&n()}}return()=>{}}function Od(){Ot("longtask",e=>{for(const n of e){const i=Dt();if(!i)return;const r=W(He+n.startTime),s=W(n.duration);i.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:r,endTimestamp:r+s})}})}function Ud(){Ot("event",e=>{for(const n of e){const i=Dt();if(!i)return;if(n.name==="click"){const r=W(He+n.startTime),s=W(n.duration);i.startChild({description:rt(n.target),op:`ui.interaction.${n.name}`,startTimestamp:r,endTimestamp:r+s})}}},{durationThreshold:0})}function Ad(){return wd(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding CLS"),F.cls={value:t.value,unit:""},vt=e)})}function xd(){return kd(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding LCP"),F.lcp={value:t.value,unit:"millisecond"},fe=e)})}function Pd(){Nd(t=>{const e=t.entries.pop();if(!e)return;const n=W(He),i=W(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding FID"),F.fid={value:t.value,unit:"millisecond"},F["mark.fid"]={value:n+i,unit:"second"}})}function Bd(t){const e=ms();if(!e||!x.performance.getEntries||!He)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Tracing] Adding & adjusting spans using Performance API");const n=W(He),i=e.getEntries();let r,s;if(i.slice(mr).forEach(o=>{const a=W(o.startTime),c=W(o.duration);if(!(t.op==="navigation"&&n+a<t.startTimestamp))switch(o.entryType){case"navigation":{Gd(t,o,n),r=n+W(o.responseStart),s=n+W(o.requestStart);break}case"mark":case"paint":case"measure":{Cd(t,o,a,c,n);const u=mi(),d=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding FP"),F.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding FCP"),F.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(x.location.origin,"");Md(t,o,u,a,c,n);break}}}),mr=Math.max(i.length-1,0),Yd(t),t.op==="pageload"){typeof r=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding TTFB"),F.ttfb={value:(r-t.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=r&&(F["ttfb.requestTime"]={value:(r-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!F[a]||n>=t.startTimestamp)return;const c=F[a].value,u=n+W(c),d=Math.abs((u-t.startTimestamp)*1e3),l=d-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${l})`),F[a].value=d});const o=F["mark.fid"];o&&F.fid&&(at(t,{description:"first input delay",endTimestamp:o.value+W(F.fid.value),op:"ui.action",startTimestamp:o.value}),delete F["mark.fid"]),"fcp"in F||delete F.cls,Object.keys(F).forEach(a=>{t.setMeasurement(a,F[a].value,F[a].unit)}),Fd(t)}fe=void 0,vt=void 0,F={}}function Cd(t,e,n,i,r){const s=r+n,o=s+i;return at(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}function Gd(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{$t(t,e,i,n)}),$t(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),$t(t,e,"fetch",n,"cache","domainLookupStart"),$t(t,e,"domainLookup",n,"DNS"),Ld(t,e,n)}function $t(t,e,n,i,r,s){const o=s?e[s]:e[`${n}End`],a=e[`${n}Start`];!a||!o||at(t,{op:"browser",description:r||n,startTimestamp:i+W(a),endTimestamp:i+W(o)})}function Ld(t,e,n){at(t,{op:"browser",description:"request",startTimestamp:n+W(e.requestStart),endTimestamp:n+W(e.responseEnd)}),at(t,{op:"browser",description:"response",startTimestamp:n+W(e.responseStart),endTimestamp:n+W(e.responseEnd)})}function Md(t,e,n,i,r,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);const a=s+i,c=a+r;at(t,{description:n,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:o})}function Yd(t){const e=x.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),An(n.rtt)&&(F["connection.rtt"]={value:n.rtt,unit:"millisecond"})),An(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),An(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Fd(t){fe&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding LCP Data"),fe.element&&t.setTag("lcp.element",rt(fe.element)),fe.id&&t.setTag("lcp.id",fe.id),fe.url&&t.setTag("lcp.url",fe.url.trim().slice(0,200)),t.setTag("lcp.size",fe.size)),vt&&vt.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log("[Measurements] Adding CLS Data"),vt.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,rt(e.node))))}const Kn=["localhost",/^\//],Xn={traceFetch:!0,traceXHR:!0,tracingOrigins:Kn,tracePropagationTargets:Kn};function $d(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:i,tracingOrigins:r,shouldCreateSpanForRequest:s}={traceFetch:Xn.traceFetch,traceXHR:Xn.traceXHR,...t},o=typeof s=="function"?s:u=>!0,a=u=>qd(u,i||r),c={};e&&ie("fetch",u=>{jd(u,o,a,c)}),n&&ie("xhr",u=>{Vd(u,o,a,c)})}function qd(t,e){return kt(t,e||Kn)}function jd(t,e,n,i){if(!li()||!(t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp){const a=t.fetchData.__span;if(!a)return;const c=i[a];c&&(t.response?c.setHttpStatus(t.response.status):t.error&&c.setStatus("internal_error"),c.finish(),delete i[a]);return}const r=Y().getScope(),s=r&&r.getSpan(),o=s&&s.transaction;if(s&&o){const a=s.startChild({data:{...t.fetchData,type:"fetch"},description:`${t.fetchData.method} ${t.fetchData.url}`,op:"http.client"});t.fetchData.__span=a.spanId,i[a.spanId]=a;const c=t.args[0];t.args[1]=t.args[1]||{};const u=t.args[1];n(t.fetchData.url)&&(u.headers=Hd(c,o.getDynamicSamplingContext(),a,u))}}function Hd(t,e,n,i){const r=Xr(e),s=n.toTraceparent(),o=typeof Request<"u"&&pe(t,Request)?t.headers:i.headers;if(o)if(typeof Headers<"u"&&pe(o,Headers)){const a=new Headers(o);return a.append("sentry-trace",s),r&&a.append(Hn,r),a}else if(Array.isArray(o)){const a=[...o,["sentry-trace",s]];return r&&a.push([Hn,r]),a}else{const a="baggage"in o?o.baggage:void 0,c=[];return Array.isArray(a)?c.push(...a):a&&c.push(a),r&&c.push(r),{...o,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{"sentry-trace":s,baggage:r}}function Vd(t,e,n,i){if(!li()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;const r=t.xhr.__sentry_xhr__;if(t.endTimestamp){const c=t.xhr.__sentry_xhr_span_id__;if(!c)return;const u=i[c];u&&(u.setHttpStatus(r.status_code),u.finish(),delete i[c]);return}const s=Y().getScope(),o=s&&s.getSpan(),a=o&&o.transaction;if(o&&a){const c=o.startChild({data:{...r.data,type:"xhr",method:r.method,url:r.url},description:`${r.method} ${r.url}`,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=c.spanId,i[t.xhr.__sentry_xhr_span_id__]=c,t.xhr.setRequestHeader&&n(t.xhr.__sentry_xhr__.url))try{t.xhr.setRequestHeader("sentry-trace",c.toTraceparent());const u=a.getDynamicSamplingContext(),d=Xr(u);d&&t.xhr.setRequestHeader(Hn,d)}catch{}}}function zd(t,e=!0,n=!0){if(!x||!x.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn("Could not initialize routing instrumentation due to invalid location");return}let i=x.location.href,r;e&&(r=t({name:x.location.pathname,startTimestamp:He,op:"pageload",metadata:{source:"url"}})),n&&ie("history",({to:s,from:o})=>{if(o===void 0&&i&&i.indexOf(s)!==-1){i=void 0;return}o!==s&&(i=void 0,r&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=t({name:x.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const Wd="BrowserTracing",Kd={...Vt,markBackgroundTransactions:!0,routingInstrumentation:zd,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Xn};class vi{__init(){this.name=Wd}constructor(e){vi.prototype.__init.call(this),es(),this.options={...Kd,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Dd(),this.options.enableLongTask&&Od(),this.options._experiments.enableInteractions&&Ud()}setupOnce(e,n){this._getCurrentHub=n;const{routingInstrumentation:i,startTransactionOnLocationChange:r,startTransactionOnPageLoad:s,markBackgroundTransactions:o,traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:d,_experiments:l}=this.options;i(f=>{const p=this._createRouteTransaction(f);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(p,f,n),p},s,r),o&&bd(),l.enableInteractions&&this._registerInteractionListener(),$d({traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:d})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:i,finalTimeout:r,heartbeatInterval:s}=this.options,o=e.op==="pageload",a=o?vr("sentry-trace"):null,c=o?vr("baggage"):null,u=a?tc(a):void 0,d=c?gc(c):void 0,l={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!d?{}:d},trimEnd:!0},f=typeof n=="function"?n(l):l,p=f===void 0?{...l,sampled:!1}:f;p.metadata=p.name!==l.name?{...p.metadata,source:"custom"}:p.metadata,this._latestRouteName=p.name,this._latestRouteSource=p.metadata&&p.metadata.source,p.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.log(`[Tracing] Starting ${p.op} transaction on scope`);const _=this._getCurrentHub(),{location:h}=x,m=rr(_,p,i,r,!0,{location:h},s);return m.registerBeforeFinishCallback(T=>{this._collectWebVitals(),Bd(T)}),m}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:i,finalTimeout:r,heartbeatInterval:s}=this.options,o="ui.action.click",a=Dt();if(a&&a.op&&["navigation","pageload"].includes(a.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&g.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=x,d={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=rr(c,d,i,r,!0,{location:u},s)};["click"].forEach(i=>{addEventListener(i,n,{once:!1,capture:!0})})}}function vr(t){const e=pa(`meta[name=${t}]`);return e?e.getAttribute("content"):null}function Xd(){const t=ut();if(!t.__SENTRY__)return;const e={mongodb(){const i=Te(me,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=Te(me,"./node/integrations/mongo");return new i.Mongo({mongoose:!0})},mysql(){const i=Te(me,"./node/integrations/mysql");return new i.Mysql},pg(){const i=Te(me,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!qe(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function Qd(){es(),ri()&&Xd()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&Qd();ad({dsn:"https://f692341e088742a4976b181239997add@o330525.ingest.sentry.io/4504672514670592",integrations:[new vi],tracesSampleRate:.5});const Jd=t=>{window.top.postMessage({isModelOpen:!0,opentab:t},"*")};window.addEventListener("message",t=>{document.body.style.overflowY="hidden";const e=document.getElementById("loader");e.classList.remove("flex"),e.classList.add("hidden");const n=document.getElementById("widget-container");n.classList.remove("hidden"),n.classList.add("flex");const{emiDetails:i,offerDetails:r,payLaters:s}=t.data.frameDataObj,o=t.data.amount,a=t.data.appId;oa("8a82123f9215935073f85d06243f895b",a),Fi("PG offers_widget_load",{appId:a});const c=d=>{Fi("PG widget_button_click",{appId:a,type:d})};if(i.dcEMIPlans.length===0&&i.ccEMIPlans.length===0||o<=2500){const d=document.getElementById("emi-block");d.style.display="none"}else{const d=document.getElementById("emi");d.innerHTML=" "+i.minEmiAmount.toLocaleString("en-US")}if(s.length===0){const d=document.getElementById("paylater-block");d.style.display="none"}const u=document.getElementById("offers");if(r.offers.length===0)u.parentNode.style.display="none";else if(r.maxSavings===0){u.innerHTML="Get",u.classList.remove("text-base"),u.classList.add("text-xs");const d=document.getElementById("totalOffers");d.innerHTML=r.offers.length+" Offers"}else{u.innerHTML=" "+Math.round(r.maxSavings);const d=document.getElementById("totalOffers");d.innerHTML=r.offers.length+" Offers"}window.logClick=c});window.openModal=Jd});export default Zd();
